(this["webpackJsonpreact-material-dashboard"]=this["webpackJsonpreact-material-dashboard"]||[]).push([[0],{125:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return c}));var n="SET_USER_DATA",r="SET_DISTRIBUTOR_ORDERS",c="SET_DISTRIBUTOR_INVOICES"},172:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(37),o=a(31),l=a(21),i=a(18);var u=Object(l.connect)((function(e){return{activatedRoute:e.activatedRoute}}),(function(e){return{setCrumb:function(t){return e(Object(o.e)(t))},setMatchFound:function(){return e(Object(o.g)(!0))},setActivatedRoute:function(t){return e(Object(o.b)(t))}}}))((function(e){return Object(n.useEffect)((function(){e.activatedRoute===e.computedMatch.url&&(e.computedMatch.path!==e.computedMatch.url&&e.setActivatedRoute(e.computedMatch.path),e.setMatchFound())}),[e.activatedRoute]),r.a.createElement(c.b,{path:e.path,exact:e.exact,render:function(t){var a;return r.a.createElement(e.component,Object.assign({},t,{routes:null===(a=e.routes)||void 0===a?void 0:a.map((function(t){return Object(i.a)(Object(i.a)({},t),{},{path:e.path+t.path,crumb:("string"===typeof e.crumb?[e.crumb]:e.crumb||[]).concat(t.crumb||[""])})}))}))}})}));t.a=Object(l.connect)(null,(function(e){return{setCrumb:function(t){return e(Object(o.e)(t))}}}))((function(e){var t=e.routes,a=e.redirectPath,o=e.isRoot,l=e.setCrumb,i=Object(c.h)();return Object(n.useEffect)((function(){t.map((function(e){return l({key:e.path,value:e.crumb})}))}),[]),r.a.createElement(c.d,null,o&&r.a.createElement(c.a,{from:"/:url*(/+)",to:i.pathname.slice(0,-1)}),t.map((function(e){return r.a.createElement(u,Object.assign({},e,{key:e}))})),a&&r.a.createElement(c.b,{path:"*"},r.a.createElement(c.a,{to:a})))}))},31:function(e,t,a){"use strict";a.d(t,"d",(function(){return c})),a.d(t,"h",(function(){return o})),a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return i})),a.d(t,"e",(function(){return u})),a.d(t,"g",(function(){return s})),a.d(t,"c",(function(){return m})),a.d(t,"f",(function(){return d}));var n=a(125),r=a(34),c=function(e){return{type:r.f,payload:e}},o=function(e){return{type:n.c,payload:e}},l=function(e){return{type:r.c,payload:e}},i=function(e){return{type:r.d,payload:e}},u=function(e){var t=e.key,a=e.value;return{type:r.g,key:t,value:a}},s=function(e){return{type:r.i,payload:e}},m=function(e){return{type:r.e,payload:e}},d=function(e){return console.log("val",e),{type:r.h,payload:e}}},34:function(e,t,a){"use strict";a.d(t,"f",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return c})),a.d(t,"j",(function(){return o})),a.d(t,"b",(function(){return l})),a.d(t,"d",(function(){return i})),a.d(t,"g",(function(){return u})),a.d(t,"i",(function(){return s})),a.d(t,"e",(function(){return m})),a.d(t,"h",(function(){return d}));var n="SET_LOGGED_IN",r="SET_ACCOUNT_TYPE",c="ADMIN",o="USER",l="COMMON",i="SET_ACTIVATED_ROUTE",u="SET_NEW_CRUMB",s="SET_URL_MATCH_FOUND",m="SET_AGENT_CURRENT_STATUS",d="SET_SEARCH_DISTRIBUTOR"},524:function(e,t,a){e.exports=a(745)},745:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(25),o=a.n(c),l=a(27);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(529);var i=a(78),u=a(813),s=a(24),m=a(445),d=a(16),p=a(21),g=a(31),b=a(37),f=Object(i.a)((function(){return Object(m.a)({"@global":{"*":{boxSizing:"border-box",margin:0,padding:0},html:{"-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",height:"100%",width:"100%"},body:{backgroundColor:"#f4f6f8",height:"100%",width:"100%"},a:{textDecoration:"none"},"#root":{height:"100%",width:"100%"},".text-underlined":{textDecoration:"underline"},".link-primary":{color:d.a.indigo[500]},".MuiTab-textColorPrimary":{color:d.a.indigo[500]},".MuiChip-root":{color:d.a.common.white},".MuiChip-colorPrimary":{color:d.a.common.white},".MuiChip-colorSecondary":{color:d.a.common.white},".MuiTypography-colorTextSecondary":{color:"rgba(0, 0, 0, 0.54)"},".MuiTypography-h6":{fontSize:"1.25rem",fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontWeight:"500",lineHeight:"1.6",letterSpacing:"0.0075em"},".MuiFormLabel-root":{color:"#3f51b5"},".position-relative":{position:"relative"},".position-absolute":{position:"absolute"},".MuiToolbar-regular":{minHeight:64},".color-white":{color:"white"},".MuiAlert-standardSuccess":{backgroundColor:"rgb(180 237 168) !important"}}})})),h=Object(b.i)(Object(p.connect)((function(e){return{activatedRoute:e.activatedRoute}}),(function(e){return{activateRoute:function(t){return e(Object(g.b)(t))},resetMatchFound:function(){return e(Object(g.g)(!1))}}}))((function(e){var t=e.activateRoute,a=e.location,r=(e.activatedRoute,e.resetMatchFound),c=(Object(s.a)(e,["activateRoute","location","activatedRoute","resetMatchFound"]),Object(n.useRef)(null));return f(),Object(n.useEffect)((function(){c.current!==a&&(r(),t(a.pathname),c.current=a)}),[a]),null}))),v=a(314);v.Chart.helpers.extend(v.Chart.elements.Rectangle.prototype,{draw:function(){var e,t,a,n,r,c,o,l,i=this._chart.ctx,u=this._view,s=u.borderWidth,m=this._chart.config.options.cornerRadius;if(m<0&&(m=0),"undefined"===typeof m&&(m=0),u.horizontal?(e=u.base,t=u.x,a=u.y-u.height/2,n=u.y+u.height/2,r=t>e?1:-1,c=1,o=u.borderSkipped||"left"):(e=u.x-u.width/2,t=u.x+u.width/2,a=u.y,r=1,c=(n=u.base)>a?1:-1,o=u.borderSkipped||"bottom"),s){var d=Math.min(Math.abs(e-t),Math.abs(a-n)),p=(s=s>d?d:s)/2,g=e+("left"!==o?p*r:0),b=t+("right"!==o?-p*r:0),f=a+("top"!==o?p*c:0),h=n+("bottom"!==o?-p*c:0);g!==b&&(a=f,n=h),f!==h&&(e=g,t=b)}i.beginPath(),i.fillStyle=u.backgroundColor,i.strokeStyle=u.borderColor,i.lineWidth=s;var v=[[e,n],[e,a],[t,a],[t,n]],y=["bottom","left","top","right"].indexOf(o,0);function E(e){return v[(y+e)%4]}-1===y&&(y=0);var S=E(0);i.moveTo(S[0],S[1]);for(var O=1;O<4;O+=1){S=E(O);var j=O+1;4===j&&(j=0);var I=v[2][0]-v[1][0],x=v[0][1]-v[1][1],C=v[1][0],A=v[1][1];if((l=m)>Math.abs(x)/2&&(l=Math.floor(Math.abs(x)/2)),l>Math.abs(I)/2&&(l=Math.floor(Math.abs(I)/2)),x<0){var D=C,w=C+I,T=A+x,N=A+x,k=C,q=C+I,P=A,L=A;i.moveTo(k+l,P),i.lineTo(q-l,L),i.quadraticCurveTo(q,L,q,L-l),i.lineTo(w,N+l),i.quadraticCurveTo(w,N,w-l,N),i.lineTo(D+l,T),i.quadraticCurveTo(D,T,D,T+l),i.lineTo(k,P-l),i.quadraticCurveTo(k,P,k+l,P)}else if(I<0){var R=C+I,M=C,_=A,F=A,G=C+I,B=C,U=A+x,W=A+x;i.moveTo(G+l,U),i.lineTo(B-l,W),i.quadraticCurveTo(B,W,B,W-l),i.lineTo(M,F+l),i.quadraticCurveTo(M,F,M-l,F),i.lineTo(R+l,_),i.quadraticCurveTo(R,_,R,_+l),i.lineTo(G,U-l),i.quadraticCurveTo(G,U,G+l,U)}else i.moveTo(C+l,A),i.lineTo(C+I-l,A),i.quadraticCurveTo(C+I,A,C+I,A+l),i.lineTo(C+I,A+x-l),i.quadraticCurveTo(C+I,A+x,C+I-l,A+x),i.lineTo(C+l,A+x),i.quadraticCurveTo(C,A+x,C,A+x-l),i.lineTo(C,A+l),i.quadraticCurveTo(C,A,C+l,A)}i.fill(),s&&i.stroke()}});var y=a(143),E=Object(y.a)({palette:{background:{dark:"#F4F6F8",default:d.a.common.white,paper:d.a.common.white},primary:{main:d.a.indigo[500]},secondary:{light:"#ff7961",main:"#f44336",dark:"#ba000d",contrastText:"#000"},text:{primary:d.a.blueGrey[900],secondary:d.a.red[600]}},shadows:["none","0 0 0 1px rgba(63,63,68,0.05), 0 1px 2px 0 rgba(63,63,68,0.15)","0 0 1px 0 rgba(0,0,0,0.31), 0 2px 2px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 8px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 5px 8px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 6px 12px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 7px 12px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 6px 16px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 7px 16px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 8px 18px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 9px 18px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 10px 20px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 11px 20px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 12px 22px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 13px 22px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 14px 24px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 16px 28px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 18px 30px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 20px 32px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 22px 34px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 24px 36px -8px rgba(0,0,0,0.25)"],typography:{h1:{fontWeight:500,fontSize:35,letterSpacing:"-0.24px"},h2:{fontWeight:500,fontSize:29,letterSpacing:"-0.24px"},h3:{fontWeight:500,fontSize:24,letterSpacing:"-0.06px"},h4:{fontWeight:500,fontSize:20,letterSpacing:"-0.06px"},h5:{fontWeight:500,fontSize:16,letterSpacing:"-0.05px"},h6:{fontWeight:500,fontSize:14,letterSpacing:"-0.05px"},overline:{fontWeight:500}}}),S=a(336),O=a(99);var j=Object(S.createStore)({id:"root"},{id:"root",reducerMap:{logInState:O.e,accountType:O.a,activatedRoute:O.b,crumbs:O.d,urlMatchFound:O.g,userData:O.h,agentCurrentStatus:O.c,searchDistributor:O.f}}),I=a(315),x=a(508),C=a(753),A=Object(C.a)((function(e){return{root:{height:"100%",width:"100%",backgroundColor:e.palette.primary.light,color:"white"}}}));function D(){var e=A(),t=Object(I.b)({loading:!0,indicator:r.a.createElement(I.a,{width:"50",height:"50"})}),a=t.containerProps,n=t.indicatorEl;return r.a.createElement(x.a,Object.assign({},a,{justifyContent:"center",alignItems:"center",display:"flex",className:e.root}),n)}var w=a(9),T=a.n(w),N=a(17),k=a(5),q=a(8),P=a.n(q),L=a(172),R=a(12),M=a(2),_=a(11),F=a(659),G=a(658),B=a(101),U=a(255),W=a(119),z=a(748),Q=a(68),Z=a(256),H=function(e){return r.a.createElement("img",Object.assign({alt:"Logo",src:"/static/merittrac.png"},e,{style:{height:"50px",width:"50px"}}))},V=a(49),J=a(323),K=a.n(J),Y=a(34),$="http://106.51.86.75:42004/crm/currentstatuses/",X="http://106.51.86.75:42001",ee="http://106.51.86.75:42002",te="http://106.51.86.75:42003",ae="http://106.51.86.75:42005",ne="http://106.51.86.75:42009",re="http://106.51.86.75:42004",ce=Object(i.a)((function(e){return{root:{},avatar:{width:60,height:60},search:Object(R.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(_.d)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(_.d)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(4),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},title:Object(R.a)({fontWeight:500,marginRight:15,fontSize:"0.96rem",display:"none"},e.breakpoints.up("sm"),{display:"block"}),inputRoot:{color:"white"},inputInput:Object(R.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"18ch","&:focus":{width:"30ch"}})}}));function oe(e,t,n){var r=a(8);console.log("userDetails sdsdfgsdfgsdf",n),console.log("remove",e),r({method:"get",url:"".concat(X,"/ami/actions/rmq?Queue=").concat(t,"&Interface=").concat(e),headers:{"Content-Type":"application/json"}}).then((function(e){})).catch((function(e){console.log(e)})),r({method:"get",url:"".concat(ee,"/ami/actions/rmq?Queue=").concat(t,"&Interface=").concat(e),headers:{"Content-Type":"application/json"}}).then((function(e){})).catch((function(e){console.log(e)})),r({method:"get",url:"".concat(te,"/ami/actions/rmq?Queue=").concat(t,"&Interface=").concat(e),headers:{"Content-Type":"application/json"}}).then((function(e){})).catch((function(e){console.log(e)})),r({method:"get",url:"".concat(ae,"/ami/actions/rmq?Queue=").concat(t,"&Interface=").concat(e),headers:{"Content-Type":"application/json"}}).then((function(e){})).catch((function(e){console.log(e)})),r({method:"get",url:"".concat(ne,"/ami/actions/rmq?Queue=7003&Interface=").concat(e),headers:{"Content-Type":"application/json"}}).then((function(e){})).catch((function(e){console.log(e)}))}function le(e,t){a(8)({method:"put",url:$+e,headers:{"Content-Type":"application/json"},data:t}).then((function(e){console.log("update",JSON.stringify(e.data))})).catch((function(e){console.log(e)}))}var ie=Object(p.connect)((function(e){return{searchtextdist:e.searchDistributor}}),(function(e){return{logout:function(){return e(Object(g.d)(!1))},searchDist:function(t){return e(Object(g.f)(t))}}}))((function(e){var t=e.className,a=(e.onMobileNavOpen,e.logout),c=(e.searchDist,Object(s.a)(e,["className","onMobileNavOpen","logout","searchDist"])),o=(Object(p.useSelector)((function(e){return e.userData})),Object(p.useSelector)((function(e){return e.userData}))),i=Object(n.useState)(-1),u=Object(k.a)(i,2),m=(u[0],u[1],Object(n.useState)(-1)),d=Object(k.a)(m,2),g=d[0],f=(d[1],Object(n.useState)(-1)),h=Object(k.a)(f,2),v=(h[0],h[1],Object(n.useState)(-1)),y=Object(k.a)(v,2),E=(y[0],y[1],Object(n.useState)(-1)),S=Object(k.a)(E,2),O=(S[0],S[1],Object(n.useState)(-1)),j=Object(k.a)(O,2),I=(j[0],j[1],ce()),C=Object(n.useState)([]),A=Object(k.a)(C,1)[0],D=Object(n.useState)(""),w=Object(k.a)(D,2),q=(w[0],w[1],Object(b.g)());Object(n.useEffect)((function(){}),[]);function L(){return R.apply(this,arguments)}function R(){return(R=Object(N.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,oe("Local/5".concat(localStorage.getItem("AgentSIPID"),"@from-queue"),7001,o),le(localStorage.getItem("callStatusId"),{loginStatus:"false"}),localStorage.jwtToken,"http://106.51.86.75:4000/auth/apiM/logout",e.next=7,P.a.delete("http://106.51.86.75:4000/auth/apiM/logout",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwtToken"))}});case 7:localStorage.clear(),a(),window.location.reload(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}return r.a.createElement(F.a,Object.assign({className:Object(M.a)(I.root,t),elevation:0},c,{style:{background:"".concat("green")}}),r.a.createElement(G.a,null,r.a.createElement(l.b,{to:"/"},r.a.createElement(H,null)),r.a.createElement(x.a,{flexGrow:1}),r.a.createElement(B.a,{color:"inherit",onClick:function(){return q.push("/dash360")}},r.a.createElement(U.a,{badgeContent:A.length,color:"primary",variant:"dot"},r.a.createElement(W.a,{variant:"contained",color:"secondary"}," Fetch Info "))),r.a.createElement(z.a,{mdDown:!0},"Agent"===localStorage.getItem("role")?r.a.createElement(Q.a,{className:I.title,variant:"h5",noWrap:!0},r.a.createElement(l.b,{to:"/dash360",className:"color-white"},"Agent ",localStorage.getItem("Agenttype")+" "+localStorage.getItem("AgentSIPID"))):r.a.createElement(r.a.Fragment,null),"Admin"===localStorage.getItem("role")||"Group admin"===localStorage.getItem("role")?r.a.createElement(Q.a,{className:I.title,variant:"h5",noWrap:!0},r.a.createElement(l.b,{to:"/telephony/dashboard",className:"color-white"},"Telephony")):r.a.createElement(r.a.Fragment,null),"Admin"===localStorage.getItem("role")||"Group admin"===localStorage.getItem("role")?r.a.createElement(Q.a,{className:I.title,variant:"h5",noWrap:!0},r.a.createElement(l.b,{to:"/agent/dashboard",className:"color-white"},"Agents")):r.a.createElement(r.a.Fragment,null),"Admin"===localStorage.getItem("role")?r.a.createElement(Q.a,{className:I.title,variant:"h5",noWrap:!0},r.a.createElement(l.b,{to:"/group/dashboard",className:"color-white"},"Groups")):r.a.createElement(r.a.Fragment,null),-1===g?"":r.a.createElement(r.a.Fragment,null),r.a.createElement(Z.a,{title:"Logout"},r.a.createElement(B.a,{color:"inherit",onClick:function(){return L()}},r.a.createElement(K.a,null)))),r.a.createElement(z.a,{lgUp:!0},r.a.createElement(B.a,{color:"inherit",onClick:function(){return L()}},r.a.createElement(K.a,null)))))})),ue=a(749),se=a(661),me=a(454),de=a(662),pe=a(814),ge=a(815),be=a(816),fe=a(817),he=a(818),ve=a(819),ye=a(820),Ee=a(821),Se=a(456),Oe=Object(i.a)((function(e){return{item:{display:"flex",paddingTop:0,paddingBottom:0},button:{color:e.palette.text.secondary,fontWeight:e.typography.fontWeightMedium,justifyContent:"flex-start",letterSpacing:0,padding:"10px 8px",textTransform:"none",width:"100%"},icon:{marginRight:e.spacing(1)},title:{marginRight:"auto"},active:{color:e.palette.primary.main,"& $title":{fontWeight:e.typography.fontWeightMedium},"& $icon":{color:e.palette.primary.main}}}})),je=function(e){var t=e.className,a=e.href,n=e.icon,c=e.title,o=Object(s.a)(e,["className","href","icon","title"]),i=Oe();return r.a.createElement(Se.a,Object.assign({className:Object(M.a)(i.item,t),disableGutters:!0},o),r.a.createElement(W.a,{activeClassName:i.active,className:i.button,component:l.c,to:a},n&&r.a.createElement(n,{className:i.icon,size:"20"}),r.a.createElement("span",{className:i.title},c)))},Ie="/static/images/avatars/avatar_6.png",xe="Senior Developer",Ce="Katarina Smith",Ae=[{href:"/app/dashboard",icon:pe.a,title:"Dashboard"},{href:"/app/customers",icon:ge.a,title:"Customers"},{href:"/app/products",icon:be.a,title:"Products"},{href:"/app/account",icon:fe.a,title:"Account"},{href:"/app/settings",icon:he.a,title:"Settings"},{href:"/login",icon:ve.a,title:"Login"},{href:"/register",icon:ye.a,title:"Register"},{href:"/404",icon:Ee.a,title:"Error"}],De=Object(i.a)((function(){return{mobileDrawer:{width:256},desktopDrawer:{width:256,top:64,height:"calc(100% - 64px)"},avatar:{cursor:"pointer",width:64,height:64}}})),we=function(e){var t=e.onMobileClose,a=e.openMobile,c=De(),o=Object(b.h)();Object(n.useEffect)((function(){a&&t&&t()}),[o.pathname]);var i=r.a.createElement(x.a,{height:"100%",display:"flex",flexDirection:"column"},r.a.createElement(x.a,{alignItems:"center",display:"flex",flexDirection:"column",p:2},r.a.createElement(ue.a,{className:c.avatar,component:l.b,src:Ie,to:"/app/account"}),r.a.createElement(Q.a,{className:c.name,color:"textPrimary",variant:"h5"},Ce),r.a.createElement(Q.a,{color:"textSecondary",variant:"body2"},xe)),r.a.createElement(se.a,null),r.a.createElement(x.a,{p:2},r.a.createElement(me.a,null,Ae.map((function(e){return r.a.createElement(je,{href:e.href,key:e.title,title:e.title,icon:e.icon})})))),r.a.createElement(x.a,{flexGrow:1}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,{lgUp:!0},r.a.createElement(de.a,{anchor:"left",classes:{paper:c.mobileDrawer},onClose:t,open:a,variant:"temporary"},i)))};we.defaultProps={onMobileClose:function(){},openMobile:!1};var Te=we,Ne=a(18),ke=a(125),qe=function(e){return{type:ke.b,payload:e}},Pe=function(e){return{type:ke.a,payload:e}},Le=[{field:"OrderNumber",headerName:"Order ID",renderCell:function(e){return r.a.createElement(l.b,{to:"/dash360/admin/orders/".concat(e.row.OrderNumber)},e.row.OrderNumber)}},{field:"CreatedType",flex:1,headerName:"Created Type"},{field:"StatusKey",flex:1,headerName:"Status"},{flex:1,field:"CreatedOn",headerName:"Created On"}],Re=[{renderCell:function(e){return r.a.createElement(l.b,{to:"/dash360/admin/invoices/".concat(e.row.InvoiceNumber)},e.row.InvoiceNumber)},headerName:"Invoice Number",field:"InvoiceNumber",flex:1},{field:"InvoiceAmount",headerName:"Amount",flex:1},{field:"Status",headerName:"Status",flex:1},{field:"BillingMobile",headerName:"Billing Mobile",flex:1}],Me=[{field:"CallerName",headerName:"CallerName",flex:1},{field:"type",headerName:"Type",flex:1},{field:"created",headerName:"Date",flex:1}],_e=[{headerName:"Unique ID",field:"asterixUniqueID",flex:1},{field:"type",headerName:"Type",flex:1},{field:"category",headerName:"Category",flex:1},{field:"subcategory",headerName:"Sub Category",flex:1},{field:"solution",headerName:"solution",flex:1},{field:"comments",headerName:"Comments",flex:1},{field:"created",headerName:"Date",flex:1}],Fe=[{headerName:"Unique ID",field:"asterixUniqueID",flex:1},{field:"type",headerName:"Type",flex:1},{field:"category",headerName:"Category",flex:1},{field:"subcategory",headerName:"Sub Category",flex:1},{field:"solution",headerName:"solution",flex:1},{field:"comments",headerName:"Comments",flex:1},{field:"created",headerName:"Date",flex:1}],Ge=a(823);function Be(e){var t=e.variant,a=e.text,n=Object(s.a)(e,["variant","text"]);return r.a.createElement(Ge.a,Object.assign({severity:t||"error"},n),a||"Something went wrong! Please try again")}var Ue="http://106.51.86.75:3000",We=function(e){P.a.get(Ue+"http://14.98.23.204/boapi/profileID",{params:{distributorID:e},headers:{"Access-Control-Allow-Origin":"*"}})},ze=function(e){return P.a.get(Ue+"http://14.98.23.204/boapi/distjoining",{params:{distributorID:e},headers:{"Access-Control-Allow-Origin":"*"}})},Qe=function(e){return P.a.get(Ue+"http://14.98.23.204/boapi/orders",{params:{distributorID:e},headers:{"Access-Control-Allow-Origin":"*"}})},Ze=function(e){return P.a.get(Ue+"http://14.98.23.204/boapi/invoice",{params:{distributorID:e},headers:{"Access-Control-Allow-Origin":"*"}})},He=function(e){return P.a.get(Ue+"http://14.98.23.204/boapi/orders",{params:{orderID:e},headers:{"Access-Control-Allow-Origin":"*"}})},Ve=function(e){return P.a.get(Ue+"http://14.98.23.204/boapi/kycstatus",{params:{distributorID:e},headers:{"Access-Control-Allow-Origin":"*"}})},Je=function(e){return[We(e),ze(e),Qe(e),Ze(e),Ve(e)]},Ke=a(83),Ye=a(464);function $e(e){var t=e.DownloadData,a="Download",n={"no data":"no data"},c={padding:"5px"},o=[{"no data":""}],l="Download";if(t.length){for(var i=Object.keys(t[0]),u={},s=0;s<i.length;s+=1)u[i[s]]=i[s];a="Download",n=u,c={padding:"5px"},o=t,l="Download"}else a="Download",n={"no data":""},c={padding:"5px"},o=[{"no data":"no data"}],l="Download";return r.a.createElement("div",null,t.length?r.a.createElement(Ye.JsonToCsv,{data:o,filename:a,fields:n,style:c,text:l}):r.a.createElement(r.a.Fragment,null))}var Xe=Object(i.a)((function(){return{dgContainer:{maxHeight:628,paddingLeft:"16px",paddingRight:"16px"}}}));var et=Object(p.connect)((function(e){return{distributorInvoices:e.distributorInvoices}}),(function(e){return{setDistributorInvoicesAction:function(t){return e(Pe(t))}}}))((function(e){var t=e.distributorInvoices,a=e.setDistributorInvoicesAction,c=Object(s.a)(e,["distributorInvoices","setDistributorInvoicesAction"]),o=Xe(),l=Object(n.useState)(!0),i=Object(k.a)(l,2),u=i[0],m=i[1],d=c.match.params.orderId,p=Object(n.useState)(null),g=Object(k.a)(p,2),b=(g[0],g[1]),f=Object(n.useRef)(d);Object(n.useEffect)((function(){t&&f===d||function(){var e=Object(N.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d?He(d):Ze(1001);case 3:t=e.sent,d?b(t.data.data):a(t.data.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:return e.prev=9,m(!1),e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[0,7,9,12]])})));return function(){return e.apply(this,arguments)}}()()}),[d]);var h=Object(n.useState)(1),v=Object(k.a)(h,2),y=v[0],E=v[1];return t?r.a.createElement("div",{className:o.dgContainer},r.a.createElement(x.a,null,r.a.createElement(Ke.a,null)),r.a.createElement(x.a,{padding:"1rem 0.5rem"},r.a.createElement(Q.a,{variant:"h6",component:"h4"},"All Invoices")),t.length?r.a.createElement($e,{DownloadData:t}):r.a.createElement(r.a.Fragment,null),r.a.createElement(V.a,{page:y,onPageChange:function(e){E(e.page)},pageSize:10,rowsPerPageOptions:[5,10,20],pagination:!0,autoHeight:!0,columns:Re,rows:t.map((function(e){return Object(Ne.a)(Object(Ne.a)({},e),{},{id:e.InvoiceNumber})}))})):u?r.a.createElement(D,null):r.a.createElement(Be,{style:{margin:20}})})),tt=Object(i.a)((function(){return{dgContainer:{maxHeight:628,maxWidth:"100%",paddingLeft:"16px",paddingRight:"16px"}}}));var at=Object(p.connect)((function(e){return{distributorOrders:e.distributorOrders}}),(function(e){return{setDistributorOrdersAction:function(t){return e(qe(t))}}}))((function(e){var t=e.distributorOrders,a=e.setDistributorOrdersAction,c=Object(s.a)(e,["distributorOrders","setDistributorOrdersAction"]),o=tt(),l=Object(n.useState)(!0),i=Object(k.a)(l,2),u=i[0],m=i[1],d=c.match.params.orderId,p=Object(n.useState)(null),g=Object(k.a)(p,2),b=(g[0],g[1]),f=Object(n.useRef)(d);Object(n.useEffect)((function(){t&&f===d||function(){var e=Object(N.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d?(n=d,P.a.get(Ue+"http://14.98.23.204/boapi/orders",{params:{orderID:n},headers:{"Access-Control-Allow-Origin":"*"}})):Qe(1001);case 3:t=e.sent,d?b(t.data.data):a(t.data.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:return e.prev=9,m(!1),e.finish(9);case 12:case"end":return e.stop()}var n}),e,null,[[0,7,9,12]])})));return function(){return e.apply(this,arguments)}}()()}),[d]);var h=Object(n.useState)(1),v=Object(k.a)(h,2),y=v[0],E=v[1];return t?r.a.createElement("div",{className:o.dgContainer},r.a.createElement(Ke.a,null),r.a.createElement(x.a,{padding:"1rem 0.5rem"},r.a.createElement(Q.a,{variant:"h6",component:"h4"},"All Orders")),r.a.createElement($e,{DownloadData:t}),r.a.createElement(V.a,{page:y,onPageChange:function(e){E(e.page)},pageSize:10,rowsPerPageOptions:[5,10,20],pagination:!0,autoHeight:!0,columns:Le,rows:t.map((function(e){return Object(Ne.a)(Object(Ne.a)({},e),{},{id:e.OrderNumber})}))})):u?r.a.createElement(D,null):r.a.createElement(Be,{style:{margin:20}})})),nt=a(714),rt=a(462),ct=a(674),ot=a(715),lt=a(679),it=a(326),ut=(a(465),a(750)),st=a(668),mt=a(669),dt=a(116),pt=a.n(dt);Object(C.a)((function(e){return{maxW50:{maxWidth:"50%",width:"50%"},customLink:{"&:hover":{cursor:"pointer"}},chipPrimary:{backgroundColor:e.palette.success.light},rootChip:{color:e.palette.common.white},chipWarning:{backgroundColor:e.palette.warning.light},mt1:{marginTop:"0.25rem"},container1:{position:"relative","&::after":{content:"no-open-quote",borderRight:"1px solid rgba(0,0,0,0.2)",height:"60%",position:"absolute",right:0,top:"50%",bottom:"50%",transform:"translateY(-50%)"}},profileIcon:{right:5},dialog:{minWidth:400}}}));var gt=a(253),bt=a(466),ft=Object(n.forwardRef)((function(e,t){var a=e.children,n=e.title,c=void 0===n?"":n,o=Object(s.a)(e,["children","title"]);return r.a.createElement("div",Object.assign({ref:t},o),r.a.createElement(bt.a,null,r.a.createElement("title",null,c)),a)})),ht=(a(746),a(670),a(118));Object(C.a)((function(){return{textTransformNone:{textTransform:"none",minWidth:"fit-content"}}}));var vt=a(469),yt=a.n(vt),Et=a(675),St=a(676),Ot=a(677),jt=a(657),It=a(678),xt=a(470),Ct=a.n(xt),At=Object(i.a)((function(){return{root:{},actions:{justifyContent:"flex-end"},linkContainer:{justifyContent:"center",alignItems:"center",display:"flex",fontWeight:"bold"}}})),Dt=function(e){var t=e.columns,a=e.className,n=e.records,c=e.redirectLink,o=e.redirectLabel,i=(e.setRootData,e.setdealerDetails),u=Object(s.a)(e,["columns","className","records","redirectLink","redirectLabel","setRootData","setdealerDetails"]),m=At();return r.a.createElement(ct.a,Object.assign({className:Object(M.a)(m.root,a)},u),r.a.createElement(se.a,null),r.a.createElement(yt.a,null,r.a.createElement(x.a,{width:"100%"},r.a.createElement(Et.a,null,r.a.createElement(St.a,null,r.a.createElement(Ot.a,null,t.map((function(e,t){return r.a.createElement(jt.a,{key:e.field||t},e.headerName)})))),r.a.createElement(It.a,null,null===n||void 0===n?void 0:n.map((function(e,a){return r.a.createElement(Ot.a,{hover:!0,key:e.id||a,onClick:function(){return t=e,console.log("showthedata",t),i(t),void localStorage.setItem("L1ID",t.asterixUniqueID);var t}},t.map((function(t,n){return r.a.createElement(jt.a,{key:"cell-".concat(a,"-").concat(n)},t.renderCell?t.renderCell({row:e}):e[t.field])})))})))))),c&&r.a.createElement(x.a,{display:"flex",justifyContent:"flex-end",p:2,alignItems:"center"},r.a.createElement(l.b,{to:c,className:m.linkContainer},o,r.a.createElement(Ct.a,null))))},wt=a(113),Tt=a.n(wt),Nt=a(680),kt=a(681),qt=a(682),Pt=a(683),Lt=a(471),Rt=a.n(Lt);var Mt=Object(C.a)((function(e){return{maxW50:{maxWidth:"50%",width:"50%"},customLink:{"&:hover":{cursor:"pointer"}},chipPrimary:{backgroundColor:e.palette.success.light},rootChip:{color:e.palette.common.white},chipWarning:{backgroundColor:e.palette.warning.light},mt1:{marginTop:"0.25rem"},container1:{position:"relative","&::after":{content:"no-open-quote",borderRight:"1px solid rgba(0,0,0,0.2)",height:"60%",position:"absolute",right:0,top:"50%",bottom:"50%",transform:"translateY(-50%)"}},profileIcon:{right:5},dialog:{minWidth:400}}}));function _t(e){console.log("dealerDetails",e);var t=function(e,t){return t.split(".").reduce((function(e,t){return"undefined"==typeof e||null===e?e:e[t]}),e)},c=Mt(),o=Object(n.useState)(e),l=Object(k.a)(o,2),i=l[0],u=(l[1],Object(n.useState)({CallerName:"",agentExtension:"",agentID:"",agenttype:"",asterixUniqueID:"",callType:"",callerNumber:"",callerapplication:"",campaignID:"",category:"",comments:"",connectivitytype:"",created:"",devicetype:"",distributerID:"",distributerName:"",enable:"",issuedescription:"",issuetype:"",ostype:"",rid:"",solution:"",speedtype:"",status:"",subcategory:"",subcategoryitem:"",tickettype:"",type:""})),s=Object(k.a)(u,2);s[0],s[1];if("dealerDetails"in e){console.log("props me hai",e.dealerDetails);e.dealerDetails}else console.log("props me nahi hai",e);var m=Object(n.useState)(!1),d=Object(k.a)(m,2),p=d[0],g=d[1];return console.log("details",t(e,"dealerDetails.CallerName")),console.log("state",i),r.a.createElement(ct.a,null,r.a.createElement(lt.a,null,r.a.createElement(rt.a,{container:!0,justify:"center",className:"position-relative"},r.a.createElement(Z.a,{title:"View More Details",className:"position-absolute ".concat(c.profileIcon," ")},r.a.createElement(Rt.a,{color:"primary",style:{cursor:"pointer"},onClick:function(){return g(!0)}})),"Disposed"===localStorage.getItem("callDispositionStatus")&&"disconnected"===localStorage.getItem("callStatus")&&"OUT"===localStorage.getItem("breakStatus")||"NA"===localStorage.getItem("breakStatus")?r.a.createElement(Tt.a,{onClick:function(){return function(e){if(console.log("make call",e),10===(e=e.substr(e.length-10)).length){var t=a(8);e=e.substring(1),console.log("make call",e),t({method:"get",url:"http://106.51.86.75:42002ami/actions/orginatecall?sipAgentID=Local/5"+localStorage.getItem("AgentSIPID")+"@from-internal&NumbertobeCalled=5"+e,headers:{}}).then((function(e){console.log(JSON.stringify(e.data))})).catch((function(e){console.log(e)}))}else console.log("Invalide number")}(t(e,"dealerDetails.callerNumber"))}}):null,r.a.createElement(x.a,null,r.a.createElement(Q.a,{gutterBottom:!0,variant:"h5",component:"h2",align:"center"},"Caller Name:  ",t(e,"dealerDetails.CallerName"),","),r.a.createElement(Q.a,{variant:"body2",color:"textSecondary",component:"p",align:"center"},r.a.createElement("br",null),r.a.createElement("br",null))))),p&&r.a.createElement(Nt.a,{open:!0,onClose:function(){return g(!1)},classes:{paper:c.dialog}},r.a.createElement(kt.a,null,"Student L1 Disposition Details"),r.a.createElement(se.a,{light:!0}),r.a.createElement(qt.a,null,r.a.createElement("br",null),r.a.createElement(rt.a,{container:!0,wrap:!0},r.a.createElement(rt.a,{container:!0,item:!0,xs:12,wrap:!0},r.a.createElement(x.a,{style:{flexBasis:"100%"},marginTop:2}),r.a.createElement(rt.a,{item:!0,container:!0},r.a.createElement(rt.a,{item:!0,xs:5},r.a.createElement(Q.a,{variant:"h5"}," Caller Application")),r.a.createElement(rt.a,{item:!0,xs:7},r.a.createElement(Q.a,{variant:"h5",color:"textSecondary"},t(e,"dealerDetails.callerapplication")))),r.a.createElement(rt.a,{item:!0,container:!0},r.a.createElement(rt.a,{item:!0,xs:5},r.a.createElement(Q.a,{variant:"h5"}," Device Type:")),r.a.createElement(rt.a,{item:!0,xs:7},r.a.createElement(Q.a,{variant:"h5",color:"textSecondary"},t(e,"dealerDetails.devicetype")))),r.a.createElement(rt.a,{item:!0,container:!0},r.a.createElement(rt.a,{item:!0,xs:5},r.a.createElement(Q.a,{variant:"h5"},"Comments:"))),"                ",r.a.createElement(rt.a,{item:!0,container:!0},r.a.createElement(rt.a,{item:!0,xs:5},r.a.createElement(Q.a,{variant:"h5"},"  OS Type:")),r.a.createElement(rt.a,{item:!0,xs:7},r.a.createElement(Q.a,{variant:"h5",color:"textSecondary"},t(e,"dealerDetails.ostype"),","))),"                ",r.a.createElement(rt.a,{item:!0,container:!0},r.a.createElement(rt.a,{item:!0,xs:5},r.a.createElement(Q.a,{variant:"h5"},"  Internet Connection Type:")),r.a.createElement(rt.a,{item:!0,xs:7},r.a.createElement(Q.a,{variant:"h5",color:"textSecondary"},t(e,"dealerDetails.connectivitytype"),","))),r.a.createElement(rt.a,{item:!0,container:!0},r.a.createElement(rt.a,{item:!0,xs:5},r.a.createElement(Q.a,{variant:"h5"}," Speed Type:")),r.a.createElement(rt.a,{item:!0,xs:7},r.a.createElement(Q.a,{variant:"h5",color:"textSecondary"},t(e,"dealerDetails.speedtype")))),r.a.createElement(rt.a,{item:!0,container:!0},r.a.createElement(rt.a,{item:!0,xs:5},r.a.createElement(Q.a,{variant:"h5"}," Issue Type:")),r.a.createElement(rt.a,{item:!0,xs:7},r.a.createElement(Q.a,{variant:"h5",color:"textSecondary"},t(e,"dealerDetails.Category")))),r.a.createElement(rt.a,{item:!0,container:!0},r.a.createElement(rt.a,{item:!0,xs:5},r.a.createElement(Q.a,{variant:"h5"}," Issue Description:")),r.a.createElement(rt.a,{item:!0,xs:7},r.a.createElement(Q.a,{variant:"h5",color:"textSecondary"},t(e,"dealerDetails.issuedescription")))),r.a.createElement(rt.a,{item:!0,container:!0},r.a.createElement(rt.a,{item:!0,xs:5},r.a.createElement(Q.a,{variant:"h5"},"Type 1:")),r.a.createElement(rt.a,{item:!0,xs:7},r.a.createElement(Q.a,{variant:"h5",color:"textSecondary"},t(e,"dealerDetails.subcategory")))),r.a.createElement(rt.a,{item:!0,container:!0},r.a.createElement(rt.a,{item:!0,xs:5},r.a.createElement(Q.a,{variant:"h5"},"OS Type:")),r.a.createElement(rt.a,{item:!0,xs:7},r.a.createElement(Q.a,{variant:"h5",color:"textSecondary"},t(e,"dealerDetails.comments"),",")))),r.a.createElement(x.a,{style:{flexBasis:"100%"}},r.a.createElement("br",null)),r.a.createElement(rt.a,{container:!0,item:!0,xs:12}))),r.a.createElement(Pt.a,null,r.a.createElement(W.a,{color:"primary",variant:"contained",onClick:function(){return g(!1)}},"Close"))))}var Ft=a(22),Gt=a(35),Bt=a(117),Ut=a(321),Wt=a(747),zt=a(23),Qt=a(825),Zt=Object(i.a)((function(){return{fieldContainer:{width:"100%"}}}));function Ht(e){console.log("props.DLF",e.DLF);e.DLF;var t=ee;function c(e,n,r){var c=a(8);c({method:"get",url:"http://106.51.86.75:42004/crm/serveragentcounts",headers:{}}).then((function(a){console.log(JSON.stringify(a.data));var r,o=(r=a.data).items[0];function l(e,t){return Object.keys(e).find((function(a){return e[a]===t}))}delete o._id,delete o.createdAt,delete o.updatedAt,delete o.__v,(r=[]).push(o.server1,o.server2,o.server3,o.server4,o.server5),r=r.sort((function(e,t){return parseFloat(e)-parseFloat(t)})),console.log("data",r),console.log(l(o,r[0])),"server1"===l(o,r[0])&&(t="http://106.51.86.75:42001"),"server2"===l(o,r[0])&&(t="http://106.51.86.75:42002"),"server3"===l(o,r[0])&&(t="http://106.51.86.75:42003"),"server4"===l(o,r[0])&&(t="http://106.51.86.75:42005"),"server5"===l(o,r[0])&&(t="http://106.51.86.75:42009",n=7003);var i={method:"get",url:"".concat(t,"/ami/actions/addq?Interface=").concat(e,"&Queue=").concat(n),headers:{"Content-Type":"application/json"}};c(i).then((function(e){})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}var o=Object(n.useState)({subcategory:"",category:"",comments:"",type:"",subcategoryitem:"",enable:"",issuetype:"",devicetype:"",connectivitytype:"",speedtype:"",ostype:"",solution:"",issuedescription:"",CallerName:"",callerapplication:"",L1Name:"",status:""}),l=Object(k.a)(o,2),i=l[0],u=l[1];var s=[{id:"1",value:"Mobile"},{id:"2",value:"Laptop/ Desktop"}],m=[{id:"1",value:"Android"},{id:"2",value:"Win-7 / 8/10 "},{id:"3",value:"MAC / Linux,"}],d=[{id:"1",value:"Hotspot"},{id:"2",value:"DataCard"},{id:"3",value:"Broadband"}],g=[{id:"1",value:"Less than 2 MBPS"},{id:"2",value:"More than 2 MBPS"}],b=Zt(),f=Object(n.useRef)({}),h=("".concat(re,"/"),Object(n.useState)({value:"Enquiry",label:"Enquiry"})),v=Object(k.a)(h,2),y=(v[0],v[1]),E=Object(n.useState)([]),S=Object(k.a)(E,2),O=S[0],j=S[1],I=Object(n.useState)(!0),x=Object(k.a)(I,2),C=(x[0],x[1]),A=Object(n.useState)([]),D=Object(k.a)(A,2),w=(D[0],D[1],Object(n.useState)({ticketTypeId:"",ticketType:""})),q=Object(k.a)(w,2),P=(q[0],q[1],Object(n.useState)([])),L=Object(k.a)(P,2),M=L[0],_=L[1],F=Object(n.useState)({value:"",label:""}),G=Object(k.a)(F,2),B=(G[0],G[1],Object(n.useState)([])),U=Object(k.a)(B,2),z=U[0],Q=U[1],Z=Object(n.useState)({value:"",label:""}),H=Object(k.a)(Z,2),V=(H[0],H[1]),J=Object(n.useState)(!1),K=Object(k.a)(J,2),Y=(K[0],K[1]),X=Object(p.useSelector)((function(e){return e.userData})),te=function(e,t){"transfercall"===e.target.defaultValue?Y(!0):Y(!1)};Object(n.useEffect)((function(){var e=!1;function t(){return(t=Object(N.a)(T.a.mark((function t(){var a;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=[{id:"600bc52f997c4d29ff4e5609",category:"Enquiry",active:!0,createdAt:"2021-01-19T07:31:02.745Z",updatedAt:"2021-01-19T07:31:02.745Z",v:0},{id:"600bc578997c4d29ff4e560a",category:"Complaints",active:!0,createdAt:"2021-01-19T07:31:02.745Z",updatedAt:"2021-01-19T07:31:02.745Z",_v:0}],e||(a[0]?y({label:a[0].category,value:a[0].id}):y({}),j(a.map((function(e){var t=e.id;return{label:e.category,value:t}}))),C(!1));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){var e=a(8),t=localStorage.getItem("callerNumber");console.log("number",t),e({method:"get",url:"".concat("http://106.51.86.75:42004/crm/interactions/getTransferedData?callerNumber="+t),headers:{},data:""}).then(function(){var e=Object(N.a)(T.a.mark((function e(t){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,e.next=3,a.reverse();case 3:a=e.sent,console.log("DLFDATA INSIDE THE DIS FORM",a),a.length&&"L2"===localStorage.getItem("Agenttype")&&(console.log("DLFDATA INSIDE THE dispostionFormData",a[0].dispostionFormData),u(a[0].dispostionFormData));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}))}(),function(){t.apply(this,arguments)}(),function(){e=!0}}),[]),Object(n.useEffect)((function(){}),[i]);function ae(t,n){var r=a(8),c=JSON.stringify(n);console.log("updateCAllData",c,t),r({method:"post",url:"http://106.51.86.75:42004/crm/interactions/"+t,headers:{"Content-Type":"application/json"},data:c}).then((function(t){console.log("dispostionForm",JSON.stringify(t.data)),e.getALF()})).catch((function(e){console.log("dispostionFrom",e)}))}function ne(t){console.log("formRefasdfasdfasdfasdfasdfasdfasdfasdfasdfasdfasdfasdfasdfasdfasdfs",f.current.values),console.log("state",i),console.log("dispostion",{category:f.current.values.category.label,subcategory:f.current.values.subcategory.label,subcategoryitem:f.current.values.subcategoryitem.label,comments:f.current.values.comments,type:f.current.values.type}),localStorage.setItem("callDispositionStatus","Disposed");var n,r,o,l=localStorage.getItem("callUniqueId");("L1"===localStorage.getItem("Agenttype")&&"dynamic"===X.AgentQueueStatus&&c("Local/5"+localStorage.getItem("AgentSIPID")+"@from-queue\n",7001),"L2"===localStorage.getItem("Agenttype")&&"dynamic"===X.AgentQueueStatus&&c("Local/3"+localStorage.getItem("AgentSIPID")+"@from-queue\n",7001),e.setCurrentCallDetails(localStorage.getItem("callStatusId"),localStorage.getItem("callUniqueId"),localStorage.getItem("callType"),localStorage.getItem("callStatus"),localStorage.getItem("callEvent"),localStorage.getItem("callDispositionStatus"),localStorage.getItem("callerNumber"),localStorage.getItem("breakStatus")),function(e){var t=a(8),n={agentCallStatus:e.callStatus,agentCallEvent:e.callEvent,agentCallUniqueId:e.callUniqueId,agentCallType:e.callType,agentCallDispositionStatus:e.callDispositionStatus,callerNumber:e.callerNumber};t({method:"put",url:$+e.callStatusId,headers:{"Content-Type":"application/json"},data:n}).then((function(e){console.log("update",JSON.stringify(e.data))})).catch((function(e){console.log(e)}))}({callStatusId:localStorage.getItem("callStatusId"),callUniqueId:l,callType:localStorage.getItem("callType"),callStatus:localStorage.getItem("callStatus"),callEvent:localStorage.getItem("callEvent"),callDispositionStatus:localStorage.getItem("callDispositionStatus"),callerNumber:localStorage.getItem("callerNumber")}),"L1"===localStorage.getItem("Agenttype"))&&ae(l,(n={category:f.current.values.category.label,subcategory:f.current.values.subcategory.label,subcategoryitem:f.current.values.subcategoryitem.label,comments:f.current.values.comments,type:f.current.values.type,distributerID:localStorage.getItem("distributer_id"),CallerName:f.current.values.CallerName,callerapplication:f.current.values.callerapplication,connectivitytype:f.current.values.connectivitytype.value,devicetype:f.current.values.devicetype.value,enable:"".concat(f.current.values.enable),issuedescription:f.current.values.issuedescription,issuetype:f.current.values.issuetype,ostype:f.current.values.ostype.value,speedtype:f.current.values.speedtype.value,status:f.current.values.status},Object(R.a)(n,"subcategoryitem",f.current.values.subcategoryitem.label),Object(R.a)(n,"type",f.current.values.type),Object(R.a)(n,"dispostionFormData",f.current.values),Object(R.a)(n,"anydeskid",f.current.values.anydeskid),Object(R.a)(n,"solution",f.current.values.solution),Object(R.a)(n,"L1ID",l),n));"L2"===localStorage.getItem("Agenttype")&&(ae(l,(r={category:f.current.values.category.label,subcategory:f.current.values.subcategory.label,subcategoryitem:f.current.values.subcategoryitem.label,comments:f.current.values.comments,type:f.current.values.type,distributerID:localStorage.getItem("distributer_id"),CallerName:f.current.values.CallerName,callerapplication:f.current.values.callerapplication,connectivitytype:f.current.values.connectivitytype.value,devicetype:f.current.values.devicetype.value,enable:"".concat(f.current.values.enable),issuedescription:f.current.values.issuedescription,issuetype:f.current.values.issuetype,ostype:f.current.values.ostype.value,speedtype:f.current.values.speedtype.value,status:f.current.values.status},Object(R.a)(r,"subcategoryitem",f.current.values.subcategoryitem.label),Object(R.a)(r,"type",f.current.values.type),Object(R.a)(r,"dispostionFormData",f.current.values),Object(R.a)(r,"anydeskid",f.current.values.anydeskid),Object(R.a)(r,"solution",f.current.values.solution),Object(R.a)(r,"L1ID",l),r)),ae(localStorage.getItem("L1ID"),{L2ID:l,type:f.current.values.type,agenttype:"L2"}));"L3"===localStorage.getItem("Agenttype")&&(ae(l,(o={category:f.current.values.category.label,subcategory:f.current.values.subcategory.label,subcategoryitem:f.current.values.subcategoryitem.label,comments:f.current.values.comments,type:f.current.values.type,distributerID:localStorage.getItem("distributer_id"),CallerName:f.current.values.CallerName,callerapplication:f.current.values.callerapplication,connectivitytype:f.current.values.connectivitytype.value,devicetype:f.current.values.devicetype.value,enable:"".concat(f.current.values.enable),issuedescription:f.current.values.issuedescription,issuetype:f.current.values.issuetype,ostype:f.current.values.ostype.value,speedtype:f.current.values.speedtype.value,status:f.current.values.status},Object(R.a)(o,"subcategoryitem",f.current.values.subcategoryitem.label),Object(R.a)(o,"type",f.current.values.type),Object(R.a)(o,"dispostionFormData",f.current.values),Object(R.a)(o,"anydeskid",f.current.values.anydeskid),Object(R.a)(o,"solution",f.current.values.solution),Object(R.a)(o,"L1ID",localStorage.getItem("callUniqueId")),o)),ae(localStorage.getItem("L2ID"),{L2ID:localStorage.getItem("callUniqueId"),type:f.current.values.type,agenttype:"L3"}))}var ce=Object(n.useState)(0),oe=Object(k.a)(ce,2),le=oe[0];oe[1];return r.a.createElement(Ft.c,{validateOnBlur:!1,initialValues:i,disform:i,onSubmit:function(e,t){var a=t.validate;ne(),a(e)},innerRef:f,validationSchema:zt.a({category:zt.a().required("Please select a  category").typeError("Please select a valid  category"),subcategory:zt.a().required("Please select a  subcategory").typeError("Please select a valid  subcategory"),subcategoryitem:zt.a().required("Please select a  subcategoryitem").typeError("Please select a valid  subcategoryitem"),comments:zt.b().required("Please Enter Comments"),type:zt.b().required("Please Enter type"),issuetype:zt.a().required("Please select a Issue Type").typeError("Please select a valid Issue Type"),devicetype:zt.a().required("Please select a  Device Type").typeError("Please select a valid  Device Type"),ostype:zt.a().required("Please select a OS Type ").typeError("Please select a valid  OS Type"),connectivitytype:zt.a().required("Please select a  Internet Connectivity Type").typeError("Please select a valid  Internet Connectivity Type"),speedtype:zt.a().required("Please select a Internet Speed ").typeError("Please select a valid  Internet Speed"),L1Name:zt.a().required("Please select a L2").typeError("Please select a L2"),anydeskid:zt.b().required("Please Enter Any Desk ID"),CallerName:zt.b().required("Please Enter Caller Name"),callerapplication:zt.b().required("Please Enter Caller Application"),issuedescription:zt.b().required("Please Enter Issue Description"),solution:zt.b().required("Please Enter Response /Solution Provided")})},(function(t){var a=t.setFieldValue;return r.a.createElement(Ft.b,null,r.a.createElement(rt.a,{container:!0,spacing:2,direction:"row"},r.a.createElement(rt.a,{item:!0,xs:4,sm:4},r.a.createElement(Ft.a,{className:b.fieldContainer,name:"CallerName",component:Gt.b,variant:"outlined",multiline:!0,label:"Caller Name"})),r.a.createElement(rt.a,{item:!0,xs:4,sm:4},r.a.createElement(Ft.a,{className:b.fieldContainer,name:"callerapplication",component:Gt.b,variant:"outlined",multiline:!0,label:"Caller Application"})),r.a.createElement(rt.a,{item:!0,xs:4,sm:4},r.a.createElement(Bt.a,{variant:"outlined",className:b.fieldContainer},r.a.createElement(Qt.a,{options:O,getOptionLabel:function(e){return e.label},value:i.category,getOptionSelected:function(e,t){return console.log("category",t),t.label===e.label},key:le,onChange:function(e,t){if(console.log("value",t),null!==t){a("category",t);var n=i;n.category=t,function(e){console.log("value",e);var t=!1;function a(){return(a=Object(N.a)(T.a.mark((function a(){var n,r,c;return T.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n=[{id:"600bc7a9997c4d29ff4e560b",categoryId:"600bc52f997c4d29ff4e5609",category:"Enquiry",subCategory:"Exam Schedule",active:!0,createdAt:"2021-01-19T07:44:05.559Z",updatedAt:"2021-01-19T07:44:05.559Z",v:0},{_id:"600bc7b9997c4d29ff4e560c",categoryId:"600bc52f997c4d29ff4e5609",category:"Enquiry",subCategory:"SEB Link",active:!0,createdAt:"2021-01-19T07:44:05.559Z",updatedAt:"2021-01-19T07:44:05.559Z",v:0},{_id:"600bcb58997c4d29ff4e560d",categoryId:"600bc52f997c4d29ff4e5609",category:"Enquiry",subCategory:"Browser Version",active:!0,createdAt:"2021-01-19T07:44:05.559Z",updatedAt:"2021-01-19T07:44:05.559Z",v:0},{_id:"600bcb6e997c4d29ff4e560e",categoryId:"600bc52f997c4d29ff4e5609",category:"Enquiry",subCategory:"Mobile App Link",active:!0,createdAt:"2021-01-19T07:44:05.559Z",updatedAt:"2021-01-19T07:44:05.559Z",v:0},{_id:"600bcb78997c4d29ff4e560f",categoryId:"600bc52f997c4d29ff4e5609",category:"Enquiry",subCategory:"Minimum System Requirements",active:!0,createdAt:"2021-01-19T07:44:05.559Z",updatedAt:"2021-01-19T07:44:05.559Z",v:0},{_id:"600c7148f50bb21a5ea0919f",categoryId:"600bc52f997c4d29ff4e5609",category:"Enquiry",subCategory:"Internet Bandwidth Required",active:!0,createdAt:"2021-01-19T07:44:05.559Z",updatedAt:"2021-01-19T07:44:05.559Z",_v:0}],r=[{id:"600c738bf50bb21a5ea091a0",categoryId:"600bc578997c4d29ff4e560a",category:"Complaints",subCategory:"Hardware",active:!0,createdAt:"2021-01-19T07:44:05.559Z",updatedAt:"2021-01-19T07:44:05.559Z",v:0},{_id:"600c73adf50bb21a5ea091a1",categoryId:"600bc578997c4d29ff4e560a",category:"Complaints",subCategory:"Software",active:!0,createdAt:"2021-01-19T07:44:05.559Z",updatedAt:"2021-01-19T07:44:05.559Z",_v:0}],c=[],"600bc52f997c4d29ff4e5609"===e.value&&(c=n),"600bc578997c4d29ff4e560a"===e.value&&(c=r),t||(_(c.map((function(e){var t=e.id;return{label:e.subCategory,value:t}}))),C(!1));case 6:case"end":return a.stop()}}),a)})))).apply(this,arguments)}(function(){a.apply(this,arguments)})()}(t),u(n)}},renderInput:function(e){return r.a.createElement(Ft.a,Object.assign({component:Gt.b},e,{label:"Select a Issue Type",variant:"outlined",name:"category"}))},name:"category"}))),M.length>0?r.a.createElement(rt.a,{item:!0,xs:4,sm:4},r.a.createElement(Qt.a,{options:M,getOptionLabel:function(e){return e.label},getOptionSelected:function(e,t){return t.id===e.id},value:i.subcategory,key:le,onChange:function(t,n){if(null!==n){a("subcategory",n),e.setSubCategory(n),function(e,t){var a=!1;function n(){return(n=Object(N.a)(T.a.mark((function e(){var n,r,c;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[{id:"600c7421f50bb21a5ea091a2",categoryId:"600bc578997c4d29ff4e560a",category:"Complaints",subCategoryId:"600c738bf50bb21a5ea091a0",subCategory:"Hardware",subCategoryItem:"Webcam Issue",active:!0,createdAt:"2021-01-19T07:54:08.427Z",updatedAt:"2021-01-19T07:54:08.427Z",v:0},{_id:"600c74d5f50bb21a5ea091a3",categoryId:"600bc578997c4d29ff4e560a",category:"Complaints",subCategoryId:"600c738bf50bb21a5ea091a0",subCategory:"Hardware",subCategoryItem:"Microphone Issue",active:!0,createdAt:"2021-01-19T07:54:08.427Z",updatedAt:"2021-01-19T07:54:08.427Z",_v:0}],r=[{id:"600c74e0f50bb21a5ea091a4",categoryId:"600bc578997c4d29ff4e560a",category:"Complaints",subCategoryId:"600c73adf50bb21a5ea091a1",subCategory:"Software",subCategoryItem:"SEB Installation Issue",active:!0,createdAt:"2021-01-19T07:54:08.427Z",updatedAt:"2021-01-19T07:54:08.427Z",v:0},{_id:"600c74ebf50bb21a5ea091a5",categoryId:"600bc578997c4d29ff4e560a",category:"Complaints",subCategoryId:"600c73adf50bb21a5ea091a1",subCategory:"Software",subCategoryItem:"App Issue",active:!0,createdAt:"2021-01-19T07:54:08.427Z",updatedAt:"2021-01-19T07:54:08.427Z",v:0},{_id:"600c750df50bb21a5ea091a6",categoryId:"600bc578997c4d29ff4e560a",category:"Complaints",subCategoryId:"600c73adf50bb21a5ea091a1",subCategory:"Software",subCategoryItem:"Browser Issue",active:!0,createdAt:"2021-01-19T07:54:08.427Z",updatedAt:"2021-01-19T07:54:08.427Z",v:0},{_id:"600c7517f50bb21a5ea091a7",categoryId:"600bc578997c4d29ff4e560a",category:"Complaints",subCategoryId:"600c73adf50bb21a5ea091a1",subCategory:"Software",subCategoryItem:"Login Error",active:!0,createdAt:"2021-01-19T07:54:08.427Z",updatedAt:"2021-01-19T07:54:08.427Z",v:0},{_id:"600c7522f50bb21a5ea091a8",categoryId:"600bc578997c4d29ff4e560a",category:"Complaints",subCategoryId:"600c73adf50bb21a5ea091a1",subCategory:"Software",subCategoryItem:"RP Initiation Failed",active:!0,createdAt:"2021-01-19T07:54:08.427Z",updatedAt:"2021-01-19T07:54:08.427Z",_v:0}],c=[],"600bc7a9997c4d29ff4e560b"===t&&(c=n),"600c738bf50bb21a5ea091a0"===t&&(c=r),a||(Q(c.map((function(e){var t=e.id;return{label:e.subCategoryItem,value:t}}))),C(!1),c[0]?V({label:c[0].subCategoryItem,value:c[0].id}):V({}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(){n.apply(this,arguments)})()}(f.current.values.category.value,n);var r=i;r.subcategory=n,u(r)}},renderInput:function(e){return r.a.createElement(Ft.a,Object.assign({component:Gt.b},e,{label:"Select a Type1",variant:"outlined",name:"subcategory"}))},name:"subcategory"})):r.a.createElement(r.a.Fragment,null),z.length>0?r.a.createElement(rt.a,{item:!0,xs:4,sm:4},r.a.createElement(Bt.a,{variant:"outlined",className:b.fieldContainer},r.a.createElement(Qt.a,{options:z,getOptionLabel:function(e){return e.label},value:i.subCategoryItem,getOptionSelected:function(e,t){return t.id===e.id},key:le,onChange:function(t,n){if(null!==n){a("subcategoryitem",n),e.setSubCategoryItem(n);var r=i;r.subCategoryItem=n,u(r)}},renderInput:function(e){return r.a.createElement(Ft.a,Object.assign({component:Gt.b},e,{label:"Select a Type2",variant:"outlined",name:"subcategoryitem"}))},name:"subcategoryitem"}))):r.a.createElement(r.a.Fragment,null),r.a.createElement(rt.a,{item:!0,xs:4,sm:4},r.a.createElement(Qt.a,{options:s,getOptionLabel:function(e){return e.value},value:i.devicetype,getOptionSelected:function(e,t){return t.id===e.id},key:le,onChange:function(e,t){if(null!==t){a("devicetype",t);var n=i;n.devicetype=t,u(n)}},renderInput:function(e){return r.a.createElement(Ft.a,Object.assign({component:Gt.b},e,{label:"Select a Device Type",variant:"outlined",name:"devicetype"}))},name:"devicetype"})),r.a.createElement(rt.a,{item:!0,xs:4,sm:4},r.a.createElement(Qt.a,{options:m,getOptionLabel:function(e){return e.value},getOptionSelected:function(e,t){return t.id===e.id},value:i.ostype,key:le,onChange:function(e,t){null!==t&&(a("ostype",t),console.log("asdfasf",i),i.ostype=t,u(i))},renderInput:function(e){return r.a.createElement(Ft.a,Object.assign({component:Gt.b},e,{label:"Select a OS Type",variant:"outlined",name:"ostype"}))},name:"ostype"})),r.a.createElement(rt.a,{item:!0,xs:4,sm:4},r.a.createElement(Ft.a,{className:b.fieldContainer,name:"anydeskid",component:Gt.b,variant:"outlined",multiline:!0,rows:2,label:"Any desk ID"})),r.a.createElement(rt.a,{item:!0,xs:4,sm:4},r.a.createElement(Qt.a,{options:d,getOptionLabel:function(e){return e.value},value:i.connectivitytype,getOptionSelected:function(e,t){return t.id===e.id},key:le,onChange:function(e,t){if(null!==t){a("connectivitytype",t);var n=i;n.connectivitytype=t,u(n)}},renderInput:function(e){return r.a.createElement(Ft.a,Object.assign({component:Gt.b},e,{label:"Select a Internet Connectivity Type",variant:"outlined",name:"connectivitytype"}))},name:"connectivitytype"})),r.a.createElement(rt.a,{item:!0,xs:4,sm:4},r.a.createElement(Qt.a,{options:g,getOptionLabel:function(e){return e.value},value:i.speedtype,getOptionSelected:function(e,t){return t.id===e.id},key:le,onChange:function(e,t){if(null!==t){a("speedtype",t);var n=i;n.speedtype=t,u(n)}},renderInput:function(e){return r.a.createElement(Ft.a,Object.assign({component:Gt.b},e,{label:"Select a Internet Speed",variant:"outlined",name:"speedtype"}))},name:"speedtype"})),r.a.createElement(rt.a,{item:!0,xs:4,sm:4},r.a.createElement(Ft.a,{className:b.fieldContainer,name:"issuedescription",component:Gt.b,variant:"outlined",multiline:!0,rows:2,label:"Issue Description"})),r.a.createElement(rt.a,{item:!0,xs:4,sm:4},r.a.createElement(Ft.a,{className:b.fieldContainer,name:"solution",component:Gt.b,variant:"outlined",multiline:!0,rows:2,label:"Response /Solution Provided"})),r.a.createElement(rt.a,{item:!0,xs:4,sm:4},r.a.createElement(Ft.a,{className:b.fieldContainer,name:"comments",component:Gt.b,variant:"outlined",multiline:!0,rows:2,label:"Comments"})),r.a.createElement(rt.a,{item:!0},r.a.createElement(Ft.a,{component:Gt.a,name:"type",row:!0},r.a.createElement(Ut.a,{value:"open",control:r.a.createElement(Wt.a,null),label:"Open",onChange:te}),r.a.createElement(Ut.a,{value:"closed",control:r.a.createElement(Wt.a,null),label:"Closed",onChange:te}),r.a.createElement(Ut.a,{value:"disconnected",control:r.a.createElement(Wt.a,null),label:"disconnected",onChange:te})))),r.a.createElement("br",null),r.a.createElement("span",null,"  "),r.a.createElement("span",null," "),r.a.createElement("span",null," "),r.a.createElement("span",null," "),r.a.createElement(W.a,{color:"primary",variant:"contained",onClick:ne},"Submit"))}))}var Vt=a(88),Jt=a.n(Vt),Kt=a(252);Object(C.a)((function(e){return{dialog:{minWidth:400}}}));var Yt=a(824),$t=(Object(Yt.a)(),Object(Yt.a)(),Object(Yt.a)(),Object(Yt.a)(),Object(Yt.a)(),Object(Yt.a)(),Object(Yt.a)(),Object(Yt.a)(),Object(Yt.a)(),Object(Yt.a)(),Jt()(X,{transports:["websocket"],"reconnection limit":1e3,"max reconnection attempts":"Infinity"})),Xt=(Jt()(ee,{transports:["websocket"],"reconnection limit":1e3,"max reconnection attempts":"Infinity"}),Jt()(te,{transports:["websocket"],"reconnection limit":1e3,"max reconnection attempts":"Infinity"}),Jt()(ae,{transports:["websocket"],"reconnection limit":1e3,"max reconnection attempts":"Infinity"}),Jt()(ne,{transports:["websocket"],"reconnection limit":1e3,"max reconnection attempts":"Infinity"}),Object(i.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)},panelBody:{padding:0},dialogActions:{padding:"0 1.5rem 1rem"},modal:{alignItems:"center",width:"100%",height:"100%"},timerComp:{position:"absolute",top:0,left:"55%",color:"white",fontWeight:"bold",fontSize:"1.2rem",backgroundColor:e.palette.secondary.light,padding:"8px 10px",borderBottomLeftRadius:8,borderBottomRightRadius:8},callWrapper:{left:"calc(55% + 90px)"},callInbound:{backgroundColor:e.palette.success.light},callOutbound:{backgroundColor:e.palette.secondary.light},drawerHeader:{display:"flex",alignItems:"center",width:"100%",padding:e.spacing(1,1)}}}))),ea=Object(p.connect)((function(e){return{distributorOrders:e.distributorOrders,agentCurrentStatus:e.currentCall,searchDistributor:e.searchDistributor}}),(function(e){return{setDistributorOrdersAction:function(t){return e(qe(t))},setAgentCurrentStatusAction:function(t){return e(Object(g.c)(t))},setSearchDistributor:function(t){return e(Object(g.f)(t))}}}))((function(e){e.distributorOrders;var t=e.setDistributorOrdersAction,c=e.setAgentCurrentStatusAction,o=(e.setSearchDistributor,e.searchDistributor,Xt()),l=Object(p.useSelector)((function(e){return e})),i=Object(p.useSelector)((function(e){return e.userData})),u=Object(n.useState)(0),s=Object(k.a)(u,2),m=(s[0],s[1],Object(n.useState)(!1)),d=Object(k.a)(m,2),f=d[0],h=d[1],v=Object(n.useState)(null),y=Object(k.a)(v,2),E=(y[0],y[1]),S=Object(n.useState)(!1),O=Object(k.a)(S,2),j=(O[0],O[1],r.a.useState(!1)),I=Object(k.a)(j,2),C=(I[0],I[1],Object(n.useState)("")),A=Object(k.a)(C,2),w=(A[0],A[1],Object(n.useState)("")),q=Object(k.a)(w,2),L=(q[0],q[1],Object(n.useState)("")),M=Object(k.a)(L,2),_=(M[0],M[1],Object(n.useState)("")),F=Object(k.a)(_,2),G=(F[0],F[1],Object(n.useState)("")),B=Object(k.a)(G,2),U=(B[0],B[1],Object(n.useState)("")),z=Object(k.a)(U,2),Z=(z[0],z[1],Object(n.useState)("")),H=Object(k.a)(Z,2),V=(H[0],H[1],Object(n.useState)("")),J=Object(k.a)(V,2),K=(J[0],J[1],Object(n.useState)("")),Y=Object(k.a)(K,2),ce=(Y[0],Y[1],Object(n.useState)("")),oe=Object(k.a)(ce,2),le=oe[0],ie=oe[1],ue=Object(n.useState)([]),me=Object(k.a)(ue,2),de=(me[0],me[1],Object(n.useState)({})),pe=Object(k.a)(de,2),ge=pe[0],be=pe[1],fe=Object(n.useState)([]),he=Object(k.a)(fe,2),ve=(he[0],he[1],Object(n.useState)(!0)),ye=Object(k.a)(ve,2),Ee=ye[0],Se=ye[1],Oe=Object(n.useState)({value:"",label:""}),je=Object(k.a)(Oe,2),Ie=(je[0],je[1],Object(n.useState)([])),xe=Object(k.a)(Ie,2),Ce=(xe[0],xe[1],Object(n.useState)({})),Ae=Object(k.a)(Ce,2),De=Ae[0],we=Ae[1],Te=Object(n.useState)([]),Ne=Object(k.a)(Te,2),ke=(Ne[0],Ne[1],Object(n.useState)({value:"",label:""})),qe=Object(k.a)(ke,2),Pe=qe[0],Le=qe[1],Re=Object(n.useState)([]),_e=Object(k.a)(Re,2),Fe=(_e[0],_e[1],Object(n.useState)({value:"",label:""})),Ge=Object(k.a)(Fe,2),Ue=Ge[0],We=Ge[1],ze=Object(n.useState)([]),Qe=Object(k.a)(ze,2),Ze=(Qe[0],Qe[1],Object(n.useState)({value:"",label:""})),He=Object(k.a)(Ze,2),Ve=(He[0],He[1],Object(n.useState)([])),Ye=Object(k.a)(Ve,2),$e=(Ye[0],Ye[1],Object(n.useState)({value:"",label:""})),Xe=Object(k.a)($e,2),et=(Xe[0],Xe[1],Object(n.useState)([])),tt=Object(k.a)(et,2),at=(tt[0],tt[1],Object(n.useState)({value:"",label:"",sla:0})),ut=Object(k.a)(at,2),st=(ut[0],ut[1],Object(n.useState)([])),mt=Object(k.a)(st,2),dt=(mt[0],mt[1],Object(n.useState)({value:"",label:"",slaOnHold:!1})),pt=Object(k.a)(dt,2),bt=(pt[0],pt[1],Object(n.useState)([])),ht=Object(k.a)(bt,2),vt=(ht[0],ht[1],Object(n.useState)({value:"",label:"",executiveEmail:"",executiveMobile:""})),yt=Object(k.a)(vt,2),Et=(yt[0],yt[1],Object(n.useState)({})),St=Object(k.a)(Et,2),Ot=(St[0],St[1],Object(n.useState)()),jt=Object(k.a)(Ot,2),It=(jt[0],jt[1],Object(n.useState)({callUniqueId:"",callType:"",callStatus:"",callDetails:"",callDispositionStatus:"",callerNumber:"",breakStatus:""})),xt=Object(k.a)(It,2),Ct=xt[0],At=xt[1],wt=Object(n.useState)({userType:"Agent"}),Nt=Object(k.a)(wt,2),kt=Nt[0],qt=(Nt[1],Object(n.useState)({AgentId:"1234",AgentType:localStorage.getItem("AgentType"),AgentSipId:localStorage.getItem("AgentSIPID")})),Pt=Object(k.a)(qt,2),Lt=Pt[0],Rt=(Pt[1],Object(n.useState)([])),Mt=Object(k.a)(Rt,2),Ft=Mt[0],Gt=Mt[1],Bt=Object(n.useState)([]),Ut=Object(k.a)(Bt,2),Wt=Ut[0],zt=Ut[1],Qt=Object(n.useState)({}),Zt=Object(k.a)(Qt,2),Vt=Zt[0],Jt=Zt[1],Kt=Object(n.useState)(""),Yt=Object(k.a)(Kt,2),ea=Yt[0],ta=Yt[1],aa=Object(n.useState)(!1),na=Object(k.a)(aa,2),ra=(na[0],na[1],Object(n.useState)({})),ca=Object(k.a)(ra,2),oa=ca[0],la=ca[1],ia=Object(n.useState)({}),ua=Object(k.a)(ia,2),sa=(ua[0],ua[1],Object(p.useDispatch)());function ma(e,t){a(8)({method:"get",url:"".concat(re,"/crm/interactions/getByAgentStatus?type=")+e+"&status="+t,headers:{}}).then((function(e){console.log(JSON.stringify(e.data));var t=e.data;console.log("calling the open tickets",t),Gt(t)})).catch((function(e){console.log(e)}))}function da(e,t,a,n,r,c,o,l){At({callStatusId:e,callUniqueId:t,callType:a,callStatus:n,callEvent:r,callDispositionStatus:c,callerNumber:o,breakStatus:l}),localStorage.setItem("callStatusId",e),localStorage.setItem("callUniqueId",t),localStorage.setItem("callType",a),localStorage.setItem("callStatus",n),localStorage.setItem("callEvent",r),localStorage.setItem("callDispositionStatus",c),localStorage.setItem("callerNumber",o),localStorage.setItem("breakStatus",l)}Object(n.useEffect)((function(){localStorage.getItem("jwtToken")&&Se(!0)}),[]);var pa=ee;function ga(e,t,n){var r=a(8);r({method:"get",url:"http://106.51.86.75:42004/crm/serveragentcounts",headers:{}}).then((function(a){console.log(JSON.stringify(a.data));var n,c=(n=a.data).items[0];function o(e,t){return Object.keys(e).find((function(a){return e[a]===t}))}delete c._id,delete c.createdAt,delete c.updatedAt,delete c.__v,(n=[]).push(c.server1,c.server2,c.server3,c.server4,c.server5),n=n.sort((function(e,t){return parseFloat(e)-parseFloat(t)})),console.log("data",n),console.log(o(c,n[0])),"server1"===o(c,n[0])&&(pa="http://106.51.86.75:42001"),"server2"===o(c,n[0])&&(pa="http://106.51.86.75:42002"),"server3"===o(c,n[0])&&(pa="http://106.51.86.75:42003"),"server4"===o(c,n[0])&&(pa="http://106.51.86.75:42005"),"server5"===o(c,n[0])&&(pa="http://106.51.86.75:42009",t=7003);var l={method:"get",url:"".concat(pa,"/ami/actions/addq?Interface=").concat(e,"&Queue=").concat(t),headers:{"Content-Type":"application/json"}};r(l).then((function(e){})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}function ba(e,t,n){var r=a(8);console.log("userDetails sdsdfgsdfgsdf",n),console.log("remove",e),r({method:"get",url:"".concat(X,"/ami/actions/rmq?Queue=").concat(t,"&Interface=").concat(e),headers:{"Content-Type":"application/json"}}).then((function(e){})).catch((function(e){console.log(e)})),r({method:"get",url:"".concat(ee,"/ami/actions/rmq?Queue=").concat(t,"&Interface=").concat(e),headers:{"Content-Type":"application/json"}}).then((function(e){})).catch((function(e){console.log(e)})),r({method:"get",url:"".concat(te,"/ami/actions/rmq?Queue=").concat(t,"&Interface=").concat(e),headers:{"Content-Type":"application/json"}}).then((function(e){})).catch((function(e){console.log(e)})),r({method:"get",url:"".concat(ae,"/ami/actions/rmq?Queue=").concat(t,"&Interface=").concat(e),headers:{"Content-Type":"application/json"}}).then((function(e){})).catch((function(e){console.log(e)})),r({method:"get",url:"".concat(ne,"/ami/actions/rmq?Queue=7003&Interface=").concat(e),headers:{"Content-Type":"application/json"}}).then((function(e){})).catch((function(e){console.log(e)}))}function fa(e){a(8)({method:"get",url:"http://106.51.86.75:42004/crm/currentstatuses/agentSipID?agentSipID="+e,headers:{}}).then((function(e){e.data&&(da(e.data[0]._id,e.data[0].agentCallUniqueId,e.data[0].agentCallType,e.data[0].agentCallStatus,e.data[0].agentCallEvent,e.data[0].agentCallDispositionStatus,e.data[0].contactNumber,e.data[0].breakStatus),c({AgentType:Lt.AgentType,role:kt.userType,callUniqueId:e.data[0].agentCallUniqueId,distributer_id:"",callStatusId:e.data[0]._id,callDispositionStatus:e.data[0].agentCallDispositionStatus,callType:e.data[0].agentCallType,callEvent:e.data[0].agentCallEvent,callerNumber:e.data[0].contactNumber,callStatus:e.data[0].agentCallStatus,AgentSIPID:Lt.AgentSipId,breakStatus:e.data[0].breakStatus}),null!==e.data[0].channel||e.data[0].channel)})).catch((function(e){}))}Object(n.useEffect)((function(){localStorage.getItem("AgentSIPID"),setInterval(Object(N.a)(T.a.mark((function e(){var t,a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="http://106.51.86.75:42004/crm/currentstatuses/agentSipID?agentSipID=".concat(localStorage.getItem("AgentSIPID")),e.next=3,P.a.get(t);case 3:a=e.sent,localStorage.getItem("jwtToken")&&(a.data[0].jwtToken===localStorage.getItem("jwtToken")||(localStorage.clear(),sa(Object(g.d)(!1)),window.location.reload()));case 5:case"end":return e.stop()}}),e)}))),3e3)}),[]);function ha(){return(ha=Object(N.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function va(e){return ya.apply(this,arguments)}function ya(){return(ya=Object(N.a)(T.a.mark((function e(a){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.allSettled(Je(a));case 3:n=e.sent,E(n.map((function(e){return"fulfilled"===e.status?e.value.data:{}}))),t("fulfilled"===n[2].status?n[2].value.data.data:null),h(!1),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function Ea(e){var t=localStorage.getItem("breakStatus");"NA"===t&&(ba("Local/5".concat(localStorage.getItem("AgentSIPID"),"@from-queue"),7001,i),ga("Local/5"+localStorage.getItem("AgentSIPID")+"@from-queue\n",7001),localStorage.setItem("breakStatus","IN")),"IN"===t&&(ba("Local/5".concat(localStorage.getItem("AgentSIPID"),"@from-queue"),7001,i),ga("Local/5"+localStorage.getItem("AgentSIPID")+"@from-queue\n",7001),localStorage.setItem("breakStatus","OUT")),"OUT"===t&&(localStorage.setItem("breakStatus","IN"),ba("Local/5".concat(localStorage.getItem("AgentSIPID"),"@from-queue"),7001,i)),function(e){console.log("updateData",e);var t=a(8),n={agentCallStatus:e.callStatus,agentCallEvent:e.callEvent,agentCallUniqueId:e.callUniqueId,agentCallType:e.callType,agentCallDispositionStatus:e.callDispositionStatus,callerNumber:e.callerNumber,breakStatus:e.breakStatus};t({method:"put",url:$+e.callStatusId,headers:{"Content-Type":"application/json"},data:n}).then((function(e){console.log("update",JSON.stringify(e.data))})).catch((function(e){console.log(e)}))}({callStatusId:localStorage.getItem("callStatusId"),callUniqueId:localStorage.getItem("callUniqueId"),callType:localStorage.getItem("callType"),callStatus:localStorage.getItem("callStatus"),callEvent:localStorage.getItem("callEvent"),callDispositionStatus:localStorage.getItem("callDispositionStatus"),callerNumber:localStorage.getItem("callerNumber"),breakStatus:localStorage.getItem("breakStatus")}),da(localStorage.getItem("callStatusId"),localStorage.getItem("callUniqueId"),localStorage.getItem("callType"),localStorage.getItem("callStatus"),localStorage.getItem("callEvent"),localStorage.getItem("callDispositionStatus"),localStorage.getItem("callerNumber"),localStorage.getItem("breakStatus")),a(8)({method:"post",url:"http://106.51.86.75:42004/crm/agentbreakservices",headers:{"Content-Type":"application/json"},data:JSON.stringify({agentID:Lt.AgentId,agentSIPID:Lt.AgentSipId,breakStatus:localStorage.getItem("breakStatus")})}).then((function(e){})).catch((function(e){}))}"Agent"===kt.userType&&$t.on("AstriskEvent",(function(e){e.Event,e.Event;var t=e.Channel1;"Unlink"===e.Bridgestate&&t.includes("SIP/"+Lt.AgentSipId)&&(localStorage.getItem("callEvent"))})),Object(n.useEffect)((function(){function e(){return(e=Object(N.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fa(Lt.AgentSipId);case 3:e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return localStorage.getItem("Agenttype"),"L2"===localStorage.getItem("Agenttype")&&ma("L1","open"),"L3"===localStorage.getItem("Agenttype")&&ma("L2","open"),function(){e.apply(this,arguments)}(),E([[],[],[],[],[]].map((function(e){return"fulfilled"===e.status?e.value.data:{}}))),h(!1),$t.on("AstriskEvent",(function(e){e.Event,e.Event})),function(){}}),[]),Object(n.useEffect)((function(){""!==Ct.callerNumber&&"NotDisposed"===Ct.callDispositionStatus&&(!function(e){ha.apply(this,arguments)}(Ct.callerNumber),a(8)({method:"get",url:"http://106.51.86.75:42004/crm/interactions/getByDistributerID?distributerID="+localStorage.getItem("callerNumber"),headers:{},data:""}).then(function(){var e=Object(N.a)(T.a.mark((function e(t){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=(a=t.data).reverse(),console.log("DLF",a),zt(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}))),localStorage.getItem("Agenttype"),"L2"===localStorage.getItem("Agenttype")&&ma("L1","open"),"L3"===localStorage.getItem("Agenttype")&&ma("L2","open")}),[Ct.callDispositionStatus,Ct.callStatus,Ct.breakStatus]);Object(b.g)();return Object(n.useEffect)((function(){l.searchDistributor.length>=4?va(l.searchDistributor):va()}),[l.searchDistributor]),!f&&Ee?r.a.createElement("div",{style:{position:"relative"}},"connected"===Ct.callStatus&&"Disposed"!=Ct.callDispositionStatus?r.a.createElement("div",null,r.a.createElement(x.a,{alignItems:"center",display:"flex",className:"".concat(o.timerComp," ").concat(o.callWrapper," ").concat(o.callInbound)},r.a.createElement(Tt.a,null),"\xa0",r.a.createElement(Q.a,{display:"inline"},"Inbound Call In Progress"))," "):null,"NotDisposed"===Ct.callDispositionStatus&&"disconnected"===Ct.callStatus?r.a.createElement("div",null,r.a.createElement(x.a,{alignItems:"center",display:"flex",className:"".concat(o.timerComp," ").concat(o.callWrapper," ").concat(o.callOutbound)},r.a.createElement(Tt.a,null),"\xa0",r.a.createElement(Q.a,{display:"inline"},"Inbound Call Is Disconnected"))," "):null,r.a.createElement(Ke.a,null),"Outbound"===Lt.AgentType&&"Disposed"===localStorage.getItem("callDispositionStatus")&&"disconnected"===localStorage.getItem("callStatus")&&"OUT"===localStorage.getItem("breakStatus")?r.a.createElement("div",null,r.a.createElement(gt.a,{value:ea,onChange:function(e){ta(e.target.value)},margin:"dense"}),r.a.createElement(Tt.a,{onClick:function(e){10===ea.length&&a(8)({method:"get",url:"http://106.51.86.75:42004/ami/actions/orginatecall?sipAgentID=SIP%2F"+Lt.AgentSipId+"&NumbertobeCalled=5"+ea,headers:{}}).then((function(e){})).catch((function(e){}))}})):null,r.a.createElement(ft,{className:o.root,title:"Dashboard"},r.a.createElement(nt.a,{maxWidth:!1},r.a.createElement(rt.a,{container:!0,spacing:3},r.a.createElement(rt.a,{item:!0,lg:4,md:6,xs:12},"dynamic"===i.AgentQueueStatus?r.a.createElement(rt.a,{item:!0},"Disposed"===Ct.callDispositionStatus?r.a.createElement(W.a,{color:"secondary",variant:"contained",style:{color:"white"},onClick:function(e){return Ea()}},"OUT"===Ct.breakStatus||"NA"===Ct.breakStatus?r.a.createElement("label",null,"TAKE A BREAK"):r.a.createElement("label",null,"YOU ARE IN BREAK")):null):null)),r.a.createElement(rt.a,{container:!0,spacing:3},r.a.createElement(rt.a,{item:!0,lg:4,md:4,xs:12},r.a.createElement(rt.a,{item:!0},"L2"===localStorage.getItem("Agenttype")?r.a.createElement(ct.a,null,r.a.createElement(ot.a,{title:"Caller details"}),r.a.createElement("div",null,r.a.createElement(_t,{dealerDetails:oa}))):null,r.a.createElement("br",null),r.a.createElement("br",null),"L2"===localStorage.getItem("Agenttype")?r.a.createElement(ct.a,null,r.a.createElement(ot.a,{title:"Open Tickets ("+Lt.AgentSipId+")"}),Ft.length?r.a.createElement("div",null,r.a.createElement(Dt,{setRootData:E,setdealerDetails:la,columns:Me,records:Ft.slice(0,3)})):r.a.createElement(Be,{text:"N/A"})):null)),"L2"===localStorage.getItem("Agenttype")?r.a.createElement(rt.a,{item:!0,lg:8,md:12,xs:12},r.a.createElement(ct.a,null,r.a.createElement(ot.a,{title:"Interaction Details"}),r.a.createElement(se.a,null),"NotDisposed"===Ct.callDispositionStatus&&"Agent"===kt.userType?r.a.createElement(lt.a,null,r.a.createElement(Ht,{agentSipID:Lt.AgentSipId,DLF:Wt,setCurrentCallDetails:da,addToQueue:ga,removeFromQueue:ba,disForm:Vt,setdisForm:function(e){Jt(e)},category:De,setCategory:function(e){we(e)},ticketType:ge,setTicketType:function(e){be(e)},subCategory:Pe,setSubCategory:function(e){Le(e)},subCategoryItem:Ue,setSubCategoryItem:function(e){We(e)},remarks:le,setRemarks:function(e){ie(e)}})):r.a.createElement(r.a.Fragment,null)),r.a.createElement("br",null),r.a.createElement(it.a,Object(R.a)({url:"http://106.51.86.75:4444",position:"absolute",width:"100%",height:"500Px",id:"myId",className:"myClassname",display:"initial"},"position","relative"))):r.a.createElement(rt.a,{item:!0,lg:12,md:12,xs:12},r.a.createElement(ct.a,null,"NotDisposed"===Ct.callDispositionStatus?r.a.createElement(ot.a,{title:"Disposition Details-Call Reference Id :: ".concat(localStorage.getItem("callUniqueId"))}):r.a.createElement(ot.a,{title:"Disposition Details"}),r.a.createElement(se.a,null),"NotDisposed"===Ct.callDispositionStatus&&"Agent"===kt.userType?r.a.createElement(lt.a,null,r.a.createElement(Ht,{agentSipID:Lt.AgentSipId,DLF:Wt,setCurrentCallDetails:da,addToQueue:ga,removeFromQueue:ba,disForm:Vt,setdisForm:function(e){Jt(e)},category:De,setCategory:function(e){we(e)},ticketType:ge,setTicketType:function(e){be(e)},subCategory:Pe,setSubCategory:function(e){Le(e)},subCategoryItem:Ue,setSubCategoryItem:function(e){We(e)},remarks:le,setRemarks:function(e){ie(e)}})):r.a.createElement(r.a.Fragment,null)),r.a.createElement("br",null),r.a.createElement(it.a,{url:"http://106.51.86.75:4444",width:"100%",height:"500Px",id:"myId",className:"myClassname",display:"initial",position:"relative"})))))):r.a.createElement(D,null)})),ta=Object(i.a)((function(){return{dgContainer:{maxHeight:628,paddingLeft:"16px",paddingRight:"16px"}}}));var aa=Object(p.connect)((function(e){return{distributorInvoices:e.distributorInvoices}}),(function(e){return{setDistributorInvoicesAction:function(t){return e(Pe(t))}}}))((function(e){var t=e.distributorInvoices,c=e.setDistributorInvoicesAction,o=Object(s.a)(e,["distributorInvoices","setDistributorInvoicesAction"]),l=ta(),i=Object(n.useState)(!0),u=Object(k.a)(i,2),m=u[0],d=u[1],p=o.match.params.orderId,g=Object(n.useState)(null),b=Object(k.a)(g,2),f=(b[0],b[1]),h=Object(n.useState)([]),v=Object(k.a)(h,2),y=v[0],E=v[1],S=Object(n.useRef)(p),O="".concat(re,"/");Object(n.useEffect)((function(){a(8)({method:"get",url:O+"crm/interactions/getByAgentSIPID?SipID="+localStorage.getItem("AgentSIPID"),headers:{},data:""}).then(function(){var e=Object(N.a)(T.a.mark((function e(t){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.data,console.log("ALFDATA",a),a=a.reverse(),E(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)})),t&&S===p||function(){var e=Object(N.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p?He(p):Ze(1001);case 3:t=e.sent,p?f(t.data.data):c(t.data.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:return e.prev=9,d(!1),e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[0,7,9,12]])})));return function(){return e.apply(this,arguments)}}()()}),[p]);var j=Object(n.useState)(1),I=Object(k.a)(j,2),C=I[0],A=I[1];return y?r.a.createElement("div",{className:l.dgContainer},r.a.createElement(x.a,null,r.a.createElement(Ke.a,null)),r.a.createElement(x.a,{padding:"1rem 0.5rem"},r.a.createElement(Q.a,{variant:"h6",component:"h4"},"All Disposed Calls")),y.length?r.a.createElement($e,{DownloadData:y}):r.a.createElement(r.a.Fragment,null),r.a.createElement(V.a,{page:C,onPageChange:function(e){A(e.page)},pageSize:10,rowsPerPageOptions:[5,10,20],pagination:!0,autoHeight:!0,columns:_e,exportButton:!0,rows:y.map((function(e){return Object(Ne.a)(Object(Ne.a)({},e),{},{id:e._id})}))})):m?r.a.createElement(D,null):r.a.createElement(Be,{style:{margin:20}})})),na=Object(i.a)((function(){return{dgContainer:{maxHeight:628,paddingLeft:"16px",paddingRight:"16px"}}}));var ra=Object(p.connect)((function(e){return{distributorInvoices:e.distributorInvoices}}),(function(e){return{setDistributorInvoicesAction:function(t){return e(Pe(t))}}}))((function(e){var t=e.distributorInvoices,c=e.setDistributorInvoicesAction,o=Object(s.a)(e,["distributorInvoices","setDistributorInvoicesAction"]),l=na(),i=Object(n.useState)(!0),u=Object(k.a)(i,2),m=u[0],d=u[1],p=o.match.params.orderId,g=Object(n.useState)(null),b=Object(k.a)(g,2),f=(b[0],b[1]),h=Object(n.useState)([]),v=Object(k.a)(h,2),y=v[0],E=v[1],S=Object(n.useRef)(p);Object(n.useEffect)((function(){a(8)({method:"get",url:"Agent_service_url/crm/interactions/getByDistributerID?distributerID="+localStorage.getItem("distributer_id"),headers:{},data:""}).then(function(){var e=Object(N.a)(T.a.mark((function e(t){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=(a=t.data).reverse(),E(a);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)})),t&&S===p||function(){var e=Object(N.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p?He(p):Ze(1001);case 3:t=e.sent,p?f(t.data.data):c(t.data.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:return e.prev=9,d(!1),e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[0,7,9,12]])})));return function(){return e.apply(this,arguments)}}()()}),[p]);var O=Object(n.useState)(1),j=Object(k.a)(O,2),I=j[0],C=j[1];return y?r.a.createElement("div",{className:l.dgContainer},r.a.createElement(x.a,null,r.a.createElement(Ke.a,null)),r.a.createElement(x.a,{padding:"1rem 0.5rem"},r.a.createElement(Q.a,{variant:"h6",component:"h4"},"All Disposed Calls")),y.length>0?r.a.createElement($e,{DownloadData:y}):r.a.createElement(r.a.Fragment,null),r.a.createElement(V.a,{page:I,onPageChange:function(e){C(e.page)},pageSize:10,rowsPerPageOptions:[5,10,20],pagination:!0,autoHeight:!0,columns:Fe,rows:y.map((function(e){return Object(Ne.a)(Object(Ne.a)({},e),{},{id:e._id})}))})):m?r.a.createElement(D,null):r.a.createElement(Be,{style:{margin:20}})})),ca=[{path:"/dashboard",exact:!1,key:"dashboard",component:ea},{path:"/orders",exact:!0,key:"order",component:at,crumb:"Orders"},{path:"/orders/:orderId",exact:!0,key:"orderWithId",component:at},{path:"/invoices",exact:!0,key:"invoices",component:et,crumb:"Invoices"},{path:"/invoices/:orderId",exact:!0,key:"invoicesWithId",component:et},{path:"/agentlastfive",exact:!0,key:"agentlastfive",component:aa,crumb:"Agent Dispositon List"},{path:"/agentlastfive/:uniqueId",exact:!0,key:"uniqueId",component:aa},{path:"/distributerDisposedCallList",exact:!0,key:"distributerDisposedCallList",component:ra,crumb:"Distributer Call Dispositon List"},{path:"/distributercall/:uniqueId",exact:!0,key:"distributerCallById",component:ra}],oa=a(306),la=a.n(oa),ia=a(716),ua="/static/images/avatars/avatar_6.png",sa="Los Angeles",ma="USA",da="Katarina Smith",pa="GTM-7",ga=Object(i.a)((function(){return{root:{},avatar:{height:100,width:100}}})),ba=function(e){var t=e.className,a=Object(s.a)(e,["className"]),n=ga();return r.a.createElement(ct.a,Object.assign({className:Object(M.a)(n.root,t)},a),r.a.createElement(lt.a,null,r.a.createElement(x.a,{alignItems:"center",display:"flex",flexDirection:"column"},r.a.createElement(ue.a,{className:n.avatar,src:ua}),r.a.createElement(Q.a,{color:"textPrimary",gutterBottom:!0,variant:"h3"},da),r.a.createElement(Q.a,{color:"textSecondary",variant:"body1"},"".concat(sa," ").concat(ma)),r.a.createElement(Q.a,{className:n.dateText,color:"textSecondary",variant:"body1"},"".concat(la()().format("hh:mm A")," ").concat(pa)))),r.a.createElement(se.a,null),r.a.createElement(ia.a,null,r.a.createElement(W.a,{color:"primary",fullWidth:!0,variant:"text"},"Upload picture")))},fa=[{value:"alabama",label:"Alabama"},{value:"new-york",label:"New York"},{value:"san-francisco",label:"San Francisco"}],ha=Object(i.a)((function(){return{root:{}}})),va=function(e){var t=e.className,a=Object(s.a)(e,["className"]),c=ha(),o=Object(n.useState)({firstName:"Katarina",lastName:"Smith",email:"demo@devias.io",phone:"",state:"Alabama",country:"USA"}),l=Object(k.a)(o,2),i=l[0],u=l[1],m=function(e){u(Object(Ne.a)(Object(Ne.a)({},i),{},Object(R.a)({},e.target.name,e.target.value)))};return r.a.createElement("form",Object.assign({autoComplete:"off",noValidate:!0,className:Object(M.a)(c.root,t)},a),r.a.createElement(ct.a,null,r.a.createElement(ot.a,{subheader:"The information can be edited",title:"Profile"}),r.a.createElement(se.a,null),r.a.createElement(lt.a,null,r.a.createElement(rt.a,{container:!0,spacing:3},r.a.createElement(rt.a,{item:!0,md:6,xs:12},r.a.createElement(Kt.a,{fullWidth:!0,helperText:"Please specify the first name",label:"First name",name:"firstName",onChange:m,required:!0,value:i.firstName,variant:"outlined"})),r.a.createElement(rt.a,{item:!0,md:6,xs:12},r.a.createElement(Kt.a,{fullWidth:!0,label:"Last name",name:"lastName",onChange:m,required:!0,value:i.lastName,variant:"outlined"})),r.a.createElement(rt.a,{item:!0,md:6,xs:12},r.a.createElement(Kt.a,{fullWidth:!0,label:"Email Address",name:"email",onChange:m,required:!0,value:i.email,variant:"outlined"})),r.a.createElement(rt.a,{item:!0,md:6,xs:12},r.a.createElement(Kt.a,{fullWidth:!0,label:"Phone Number",name:"phone",onChange:m,type:"number",value:i.phone,variant:"outlined"})),r.a.createElement(rt.a,{item:!0,md:6,xs:12},r.a.createElement(Kt.a,{fullWidth:!0,label:"Country",name:"country",onChange:m,required:!0,value:i.country,variant:"outlined"})),r.a.createElement(rt.a,{item:!0,md:6,xs:12},r.a.createElement(Kt.a,{fullWidth:!0,label:"Select State",name:"state",onChange:m,required:!0,select:!0,SelectProps:{native:!0},value:i.state,variant:"outlined"},fa.map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.label)})))))),r.a.createElement(se.a,null),r.a.createElement(x.a,{display:"flex",justifyContent:"flex-end",p:2},r.a.createElement(W.a,{color:"primary",variant:"contained"},"Save details"))))},ya=Object(i.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)}}})),Ea=[{path:"/profile",exact:!1,key:"profile",component:function(){var e=ya();return r.a.createElement(ft,{className:e.root,title:"Account"},r.a.createElement(nt.a,{maxWidth:"lg"},r.a.createElement(rt.a,{container:!0,spacing:3},r.a.createElement(rt.a,{item:!0,lg:4,md:6,xs:12},r.a.createElement(ba,null)),r.a.createElement(rt.a,{item:!0,lg:8,md:6,xs:12},r.a.createElement(va,null)))))}}],Sa=function(e){var t=e.routes,a=Object(b.h)().pathname.startsWith("/admin");return r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,{routes:t,redirectPath:a?"/admin/dashboard":""}))},Oa=Object(i.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,display:"flex",height:"100%",overflow:"hidden",width:"100%"},wrapper:Object(R.a)({display:"flex",flex:"1 1 auto",overflow:"hidden",paddingTop:64},e.breakpoints.up("lg"),{paddingLeft:256}),contentContainer:{display:"flex",flex:"1 1 auto",overflow:"hidden"},content:{flex:"1 1 auto",height:"100%",overflow:"auto"}}})),ja=function(){var e=Oa(),t=Object(n.useState)(!1),a=Object(k.a)(t,2),c=a[0],o=a[1];return r.a.createElement("div",{className:e.root},r.a.createElement(ie,{onMobileNavOpen:function(){return o(!0)}}),r.a.createElement(Te,{onMobileClose:function(){return o(!1)},openMobile:c}),r.a.createElement("div",{className:e.wrapper},r.a.createElement("div",{className:e.contentContainer},r.a.createElement("div",{className:e.content},r.a.createElement("span",null,"XYZ")))))},Ia=[{path:"/admin",accountType:Y.a,routes:ca,key:"admin",component:Sa},{path:"/user",accountType:Y.j,routes:Ea,key:"user",component:ja}],xa=a(741),Ca=a(742),Aa=a(496),Da=a.n(Aa),wa=a(497),Ta=a.n(wa),Na=a(498),ka=a.n(Na),qa=a(499),Pa=a.n(qa),La=a(500),Ra=a.n(La),Ma=a(501),_a=a.n(Ma),Fa=a(502),Ga=a.n(Fa),Ba=a(503),Ua=a.n(Ba),Wa=a(504),za=a.n(Wa),Qa=a(505),Za=a.n(Qa),Ha=a(506),Va=a.n(Ha),Ja=a(145),Ka=a(477),Ya=a(57),$a=a(822);function Xa(e){var t=r.a.useState(new Date),a=Object(k.a)(t,2),n=a[0],c=a[1],o=r.a.useState(new Date),l=Object(k.a)(o,2),i=l[0],u=l[1];return r.a.createElement(Ya.a,{utils:Ka.a},r.a.createElement(rt.a,{item:!0,lg:3,sm:6},r.a.createElement($a.a,{disableToolbar:!0,variant:"inline",format:"dd/MM/yyyy",margin:"normal",id:"date-picker-inline",label:"Start Date",value:n,onChange:function(t){e.handleChange(),c(t)},KeyboardButtonProps:{"aria-label":"change date"}})),r.a.createElement(rt.a,{item:!0,lg:3,sm:6},r.a.createElement($a.a,{disableToolbar:!0,variant:"inline",format:"dd/MM/yyyy",margin:"normal",id:"date-picker-inline",label:"End Date",value:i,onChange:function(t){e.handleChange(),u(t)},KeyboardButtonProps:{"aria-label":"change date"}})),r.a.createElement(rt.a,{item:!0,lg:3,sm:6},r.a.createElement("br",null),r.a.createElement(W.a,{size:"large",variant:"contained",color:"primary",onClick:function(t){e.getALF(n,i)}},"Submit")),r.a.createElement(rt.a,{item:!0,lg:3,sm:6},r.a.createElement("br",null)))}var en=Object(i.a)((function(e){return{root:{flexGrow:1,display:"flex"},grey:{color:e.palette.getContrastText(Ja.a[50]),backgroundColor:Ja.a[50]},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},paper:{textAlign:"center"},list:{},toolbar:e.mixins.toolbar,content:{flexGrow:1,backgroundColor:e.palette.background.default,marginRight:"0.5vw"},listItem:{padding:0},cardcontent:{padding:"0 0 0 5%","&:last-child":{paddingBottom:0}}}})),tn=function(e){var t=en(),a=Object(n.useState)(1),c=Object(k.a)(a,2),o=c[0],l=c[1],i=Object(n.useState)([]),u=Object(k.a)(i,2),s=u[0],m=u[1];return Object(n.useEffect)((function(){e.agentdisposedCalls.length&&m(e.agentdisposedCalls)}),[s]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.root},s.length?r.a.createElement(V.a,{page:o,onPageChange:function(e){l(e.page)},pageSize:10,rowsPerPageOptions:[5,10,20],pagination:!0,autoHeight:!0,columns:Fe,rows:s.map((function(e){return Object(Ne.a)(Object(Ne.a)({},e),{},{id:e._id})}))}):r.a.createElement(r.a.Fragment,null)))};var an=Object(i.a)((function(e){return{root:{flexGrow:1,display:"flex"},grey:{color:e.palette.getContrastText(Ja.a[50]),backgroundColor:Ja.a[50]},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},paper:{textAlign:"center"},list:{},toolbar:e.mixins.toolbar,content:{flexGrow:1,backgroundColor:e.palette.background.default,marginRight:"0.5vw"},listItem:{padding:0},cardcontent:{padding:"0 0 0 5%","&:last-child":{paddingBottom:0}}}})),nn=[{path:"/dashboard",key:"dashboard",component:function(){var e=an(),t=Object(n.useState)([]),c=Object(k.a)(t,2),o=c[0],l=c[1],i=Object(n.useState)({callarrived:0,callsoffered:0,callsanswered:0,callsabandonedonivr:0,callsabandonedonqueue:0,shortabandoned:0,shortabandoned_ten:0,callsansweredwithin20:0,callsansweredwithin10:0,servicelevel:null,answerlevel:null,servicelevel_ten:null,answerlevel_ten:null,aht:null,ooohourscalls:0,livecalls:0,queuecalls:0,callstransferedtoCSAT:0,GaveCSAT:0,totalcsatscore:null}),u=Object(k.a)(i,2),s=u[0],m=u[1],d=[{icon:r.a.createElement(Tt.a,{color:"primary"}),data:s.callarrived,label:"I/B Calls Arrived"},{icon:r.a.createElement(Da.a,{color:"primary"}),data:s.ooohourscalls,label:"OOO Hours Calls"},{icon:r.a.createElement(Ta.a,{color:"primary"}),data:s.callsoffered,label:"I/B Calls Offered"},{icon:r.a.createElement(ka.a,{color:"primary"}),data:s.callsanswered,label:"I/B Calls Answered"},{icon:r.a.createElement(Pa.a,{color:"primary"}),data:s.queuecalls,label:"I/B Calls in Queue"},{icon:r.a.createElement(Ra.a,{color:"primary"}),data:"0",label:"I/B Agents Available"},{icon:r.a.createElement(_a.a,{color:"primary"}),data:"0",label:"I/B Ans within SL"},{icon:r.a.createElement(Ga.a,{color:"primary"}),data:s.shortabandoned,label:"I/B IVR Aband"},{icon:r.a.createElement(Ua.a,{color:"primary"}),data:"0",label:"I/B Queue Aband"},{icon:r.a.createElement(za.a,{color:"primary"}),data:"0",label:"I/B Service Level (SL-20)"},{icon:r.a.createElement(Za.a,{color:"primary"}),data:s.callsansweredwithin20,label:"I/B Answer Level (SL-20)"},{icon:r.a.createElement(Va.a,{color:"primary"}),data:s.aht,label:"I/B AHT"}];function p(e,t){var n=a(8);n({method:"get",url:"http://106.51.86.75:42004http://106.51.86.75:42004/crm/interactions/getByAgentSIPID?SipID="+localStorage.getItem("AgentSIPID"),headers:{},data:""}).then(function(){var a=Object(N.a)(T.a.mark((function a(n){var r,c;return T.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=(r=n.data).reverse(),c=r.filter((function(a){return a.created.substring(0,10)>=e.toISOString().substring(0,10)&&a.created.substring(0,10)<=t.toISOString().substring(0,10)})),l(c),a.abrupt("return",c);case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch((function(e){console.log(e)}))}function g(){a(8)({method:"get",url:"/gpreport/service/dashboardcount?AccessKeys=123",headers:{}}).then((function(e){var t=e.data;m(t[0][0])})).catch((function(e){console.log(e)}))}return Object(n.useEffect)((function(){g(),Jt()("http://106.51.86.75:42002").on("AstriskEvent",(function(e){"Bridge"===e.Event&&"Link"===e.Bridgestate&&g(),"Hangup"===e.Event&&g()}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:e.root},r.a.createElement(x.a,{css:{margin:"0.5rem"}},r.a.createElement(rt.a,{container:!0,direction:"row",justify:"center",alignItems:"flex-start",spacing:1},r.a.createElement(rt.a,{container:!0,item:!0,xs:9,spacing:1},d.map((function(t,a){return r.a.createElement(rt.a,{item:!0,lg:3,sm:6,key:a},r.a.createElement(ct.a,null,r.a.createElement(lt.a,{className:e.cardcontent},r.a.createElement(me.a,{key:a,className:e.list},r.a.createElement(Se.a,{classes:{root:e.listItem}},r.a.createElement(xa.a,null,r.a.createElement(ue.a,{className:e.grey},t.icon)),r.a.createElement(Ca.a,{primary:t.data,secondary:t.label}))))))})),r.a.createElement(Xa,{getALF:p,handleChange:function(){l([])}}),r.a.createElement(rt.a,{item:!0,lg:3,sm:6},r.a.createElement("br",null),o.length>0?r.a.createElement($e,{DownloadData:o}):r.a.createElement(r.a.Fragment,null))),r.a.createElement(rt.a,{item:!0,xs:3},r.a.createElement(ut.a,null,r.a.createElement(st.a,{expandIcon:r.a.createElement(pt.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},r.a.createElement(Q.a,{className:e.heading},"Calls in Queue (0)")),r.a.createElement(mt.a,null,r.a.createElement(Q.a,null,"Details"))),r.a.createElement(ut.a,null,r.a.createElement(st.a,{expandIcon:r.a.createElement(pt.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},r.a.createElement(Q.a,{className:e.heading},"Live Calls (",s.livecalls,")")),r.a.createElement(mt.a,null,r.a.createElement(Q.a,null,"Details"))),r.a.createElement(ut.a,null,r.a.createElement(st.a,{expandIcon:r.a.createElement(pt.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},r.a.createElement(Q.a,{className:e.heading},"Agents Live Status :: Logged in (34) / On Break (17)")),r.a.createElement(mt.a,null,r.a.createElement(Q.a,null,"Details"))))))),o.length>0?r.a.createElement(tn,{getALF:p,agentdisposedCalls:o}):r.a.createElement(r.a.Fragment,null))}}],rn=a(514);var cn=[{path:"/dashboard",key:"dashboard",component:function(){var e=Object(rn.a)(),t=e.register,a=e.handleSubmit,c=Object(n.useRef)();return r.a.createElement("form",{onSubmit:a((function(e){return console.log(e)}))},r.a.createElement("input",{name:"firstName",ref:function(e){t(e),c.current=e}}),r.a.createElement("input",{name:"lastName",ref:function(e){t(e,{required:!0})}}),r.a.createElement("button",null,"Submit"))}}],on=a(744),ln=a(743),un=a(507),sn=a.n(un);function mn(){return r.a.createElement(Q.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(ln.a,{color:"inherit",href:"https://www.grssl.com/"},"Grassroots")," ",2021,".")}var dn=Object(y.a)();dn.typography.h6=Object(R.a)({fontSize:"1rem","@media (min-width:600px)":{fontSize:"1rem"}},dn.breakpoints.up("md"),{fontSize:"1rem"});var pn=Object(i.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(/static/images/merittrack.jpg)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(4),display:"flex",flexDirection:"column",width:"100%",alignItems:"center",justifyContent:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},imageWrapper:{background:"linear-gradient(45eg, rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.15))",height:"100%",width:"100%"},submit:{margin:e.spacing(3,0,2)},avatarWrapper:{display:"flex",flexDirection:"column",alignItems:"center"},root1:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}})),gn=ee;function bn(e,t){a(8)({method:"put",url:$+e,headers:{"Content-Type":"application/json"},data:t}).then((function(e){})).catch((function(e){}))}function fn(e,t,n){var r=a(8);r({method:"get",url:"http://106.51.86.75:42004/crm/serveragentcounts",headers:{}}).then((function(a){var n,c=(n=a.data).items[0];function o(e,t){return Object.keys(e).find((function(a){return e[a]===t}))}delete c._id,delete c.createdAt,delete c.updatedAt,delete c.__v,(n=[]).push(c.server1,c.server2,c.server3,c.server4,c.server5),"server1"===o(c,(n=n.sort((function(e,t){return parseFloat(e)-parseFloat(t)})))[0])&&(gn="http://106.51.86.75:42001"),"server2"===o(c,n[0])&&(gn="http://106.51.86.75:42002"),"server3"===o(c,n[0])&&(gn="http://106.51.86.75:42003"),"server4"===o(c,n[0])&&(gn="http://106.51.86.75:42005"),"server5"===o(c,n[0])&&(gn="http://106.51.86.75:42009",t=7003);var l={method:"get",url:"".concat(gn,"/ami/actions/addq?Interface=").concat(e,"&Queue=").concat(t),headers:{"Content-Type":"application/json"}};r(l).then((function(e){})).catch((function(e){}))})).catch((function(e){}))}function hn(e,t,n){var r=a(8);r({method:"get",url:"".concat(X,"/ami/actions/rmq?Queue=").concat(t,"&Interface=").concat(e),headers:{"Content-Type":"application/json"}}).then((function(e){})).catch((function(e){})),r({method:"get",url:"".concat(ee,"/ami/actions/rmq?Queue=").concat(t,"&Interface=").concat(e),headers:{"Content-Type":"application/json"}}).then((function(e){})).catch((function(e){})),r({method:"get",url:"".concat(te,"/ami/actions/rmq?Queue=").concat(t,"&Interface=").concat(e),headers:{"Content-Type":"application/json"}}).then((function(e){})).catch((function(e){})),r({method:"get",url:"".concat(ae,"/ami/actions/rmq?Queue=").concat(t,"&Interface=").concat(e),headers:{"Content-Type":"application/json"}}).then((function(e){})).catch((function(e){})),r({method:"get",url:"".concat(ne,"/ami/actions/rmq?Queue=7003&Interface=").concat(e),headers:{"Content-Type":"application/json"}}).then((function(e){})).catch((function(e){}))}var vn=[{path:"/login",component:Object(p.connect)(null,(function(e){return{setUserDetailsMain:function(t){return e(Object(g.h)(t))},setAccountTypeMain:function(t){return e(Object(g.a)(t))},setLoggedInMain:function(t){return e(Object(g.d)(t))}}}))((function(e){var t=e.setLoggedInMain,a=e.setAccountTypeMain,c=e.setUserDetailsMain,o=pn(),l=Object(n.useState)(!1),i=Object(k.a)(l,2),u=i[0],s=i[1];function m(){return(m=Object(N.a)(T.a.mark((function e(n){var r,o,l,i,u,m;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(""),e.prev=1,"http://106.51.86.75:4000/auth/apiM/login",e.next=5,P.a.post("http://106.51.86.75:4000/auth/apiM/login",n);case 5:if(r=e.sent,"statusCode"in(o=r.data)&&(t(!1),s(!0)),!("status"in o)){e.next=19;break}return l="http://106.51.86.75:42004/crm/currentstatuses/agentSipID?agentSipID=".concat(r.data.userDetails.External_num),e.next=12,P.a.get(l,n);case 12:i=e.sent,u=r.data.userDetails,m=r.data.accessToken,bn(i.data[0]._id,{jwtToken:m,loginStatus:"true"}),"L1"===r.data.userDetails.AgentType?("dynamic"===r.data.userDetails.AgentQueueStatus&&"Disposed"===i.data[0].agentCallDispositionStatus&&(hn("Local/5"+r.data.userDetails.External_num+"@from-queue\n",7001,r.data.userDetails),fn("Local/5"+r.data.userDetails.External_num+"@from-queue\n",7001,r.data.userDetails)),localStorage.setItem("jwtToken",m),localStorage.setItem("AgentSIPID",r.data.userDetails.External_num),localStorage.setItem("role",r.data.userDetails.role),localStorage.setItem("Agenttype",r.data.userDetails.AgentType),localStorage.setItem("AgentType","Inbound"),c(u),a("Agent"===u.role?Y.a:Y.j),t(!0)):"L2"===r.data.userDetails.AgentType&&s(!0),e.next=21;break;case 19:t(!1),s(!0);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(1),t(!1),s(!0);case 27:case"end":return e.stop()}}),e,null,[[1,23]])})))).apply(this,arguments)}return Object(p.useSelector)((function(e){return e.userData})),r.a.createElement(rt.a,{container:!0,component:"main",className:o.root},r.a.createElement(on.a,null),r.a.createElement(rt.a,{item:!0,xs:!1,sm:4,md:8,className:o.image},r.a.createElement("div",{className:o.imageWrapper})),r.a.createElement(rt.a,{item:!0,xs:12,sm:8,md:4,component:ht.a,elevation:6,square:!0,style:{display:"flex"}},r.a.createElement("div",{className:"".concat(o.paper)},r.a.createElement("div",null,r.a.createElement("div",{className:o.avatarWrapper},r.a.createElement(ue.a,{className:o.avatar},r.a.createElement(sn.a,null)),r.a.createElement(Q.a,{component:"h1",variant:"h5"},"Sign in")),r.a.createElement(Ft.c,{initialValues:{email:"",password:""},validationSchema:zt.a().shape({email:zt.b().email("Must be a valid email").max(255).required("Email is required"),password:zt.b().max(255).required("Password is required")}),onSubmit:function(e){localStorage.setItem("AgentType",e.AgentType),localStorage.setItem("role",e.role),localStorage.setItem("AgentSIPID",e.AgentSIPID),function(e){m.apply(this,arguments)}(e)}},(function(e){var t=e.errors,a=e.handleBlur,n=e.handleChange,c=e.handleSubmit,o=e.touched,l=e.values;return r.a.createElement("form",{onSubmit:c},r.a.createElement(Kt.a,{error:Boolean(o.email&&t.email),fullWidth:!0,helperText:o.email&&t.email,label:"Email Address",margin:"normal",name:"email",onBlur:a,onChange:n,type:"email",value:l.email,variant:"outlined"}),r.a.createElement(Kt.a,{error:Boolean(o.password&&t.password),fullWidth:!0,helperText:o.password&&t.password,label:"Password",margin:"normal",name:"password",onBlur:a,onChange:n,type:"password",value:l.password,variant:"outlined"}),!!u&&r.a.createElement(x.a,{my:1},r.a.createElement(Q.a,{color:"secondary"},"Invalid Username/Password")),r.a.createElement(x.a,{my:2,mt:5},r.a.createElement(W.a,{color:"primary",fullWidth:!0,size:"large",type:"submit",variant:"contained"},"Sign in now")))})),r.a.createElement("div",{className:o.root1},u&&r.a.createElement("span",null,r.a.createElement(Ge.a,{severity:"error"},"You are not authorized to login"))),r.a.createElement(x.a,{mt:5},r.a.createElement(mn,null))))))})),key:"login"}],yn=(a(444),Object(i.a)((function(){return{fieldContainer:{width:"100%"}}})));function En(e){var t=Object.assign({},e),a=Object(n.useState)({AgentName:"",AgentEmail:"",Agentcontact:"",enable:!1,AgentType:{value:"",label:""},Group:{value:"",label:""}}),c=Object(k.a)(a,2),o=c[0],l=c[1],i=Object(n.useState)([]),u=Object(k.a)(i,2),s=u[0],m=u[1],d=yn(),p=Object(n.useRef)({}),g="".concat(re,"/"),b=[{id:"1",value:"L1"},{id:"2",value:"L2"}];function f(){return(f=Object(N.a)(T.a.mark((function e(t){var a,n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=g+"crm/currentstatuses",e.next=3,fetch(a,{method:"post",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 3:return n=e.sent,console.log("result",n),e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){console.log("formRef",p.current.values);var a={AgentName:p.current.values.AgentName,AgentEmail:p.current.values.AgentEmail,Agentcontact:p.current.values.Agentcontact,AgentType:p.current.values.AgentType.value,group:p.current.values.Group.group_name};P.a.post("http://106.51.86.75:4000/admin/agent/addAgent",{data:a},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwtToken"))}}).then((function(e){(console.log(e),200===e.data.status)?(alert("Created Agent Successfully"),function(e){f.apply(this,arguments)}({agentCallDispositionStatus:"NA",agentCallType:"Inbound",agentCallUniqueId:"NA",agentCallEvent:"NewState",agentCallStatus:"ringing",agentID:a.Agentcontact,agentSipID:a.Agentcontact,breakStatus:"NA",newstateinbound:"",newstateoutbound:"NA",bridgeUniqueid1:"NA",bridgeUniqueid2:"NA",channel:"NA",contactNumber:a.Agentcontact,agenttype:a.AgentType}),t.TableData()):(alert(e.data.message),console.log("formRef.current",p.current))})),l({AgentName:"",AgentEmail:"",Agentcontact:"",location:"",AgentType:{value:"",label:"",id:""}}),p.current.values.AgentName="",p.current.values.AgentEmail="",p.current.values.Agentcontact="",p.current.values.location="",p.current.values.AgentType.label="",p.current.values.AgentType.value="",p.current.values.AgentType.id="",p.current.values.Group={value:"",label:""},console.log("initialValue",o),e.preventDefault()}Object(n.useEffect)((function(){console.log("formRef",p.current.values),console.log("initialValue",o);P.a.post("http://106.51.86.75:4000/admin/group/getGroup",{},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwtToken"))}}).then((function(e){console.log(e),200===e.data.status?m(e.data.data):alert(e.data.message)}))}),[]);var v=Object(n.useState)(0),y=Object(k.a)(v,2),E=y[0];y[1];return r.a.createElement(Ft.c,{validateOnBlur:!1,initialValues:o,disform:o,onSubmit:function(e,t,a){var n=t.validate,r=a.resetForm;console.log("e",e),h(e),n(e),r({e:""})},innerRef:p,validationSchema:zt.a({AgentType:zt.a().required("Please select a Agent Type").typeError("Please select a valid Agent Type"),Group:zt.a().required("Please select a Group").typeError("Please select a Group"),AgentName:zt.b().required("Please Enter Agent Name"),AgentEmail:zt.b().required("Please Enter Agent Email"),Agentcontact:zt.b().required("Please Enter Agent Contact Number"),location:zt.b().required("Please Enter Location")})},(function(e){var t=e.setFieldValue;return r.a.createElement(Ft.b,null,r.a.createElement(rt.a,{container:!0,spacing:2,direction:"column"},r.a.createElement(rt.a,{item:!0},r.a.createElement(Ft.a,{className:d.fieldContainer,name:"AgentName",component:Gt.b,variant:"outlined",multiline:!0,label:"Agent Name"})),r.a.createElement(rt.a,{item:!0},r.a.createElement(Ft.a,{className:d.fieldContainer,name:"AgentEmail",component:Gt.b,variant:"outlined",multiline:!0,label:"Agent Email"})),r.a.createElement(rt.a,{item:!0},r.a.createElement(Ft.a,{className:d.fieldContainer,name:"Agentcontact",component:Gt.b,variant:"outlined",multiline:!0,label:"Agent Contact Number"})),"Admin"===localStorage.getItem("role")?r.a.createElement(rt.a,{item:!0},r.a.createElement(Bt.a,{variant:"outlined",className:d.fieldContainer},r.a.createElement(Qt.a,{options:s,getOptionLabel:function(e){return e.group_name},getOptionSelected:function(e,t){return t.id===e.id},key:E,onChange:function(e,a){t("Group",a)},renderInput:function(e){return r.a.createElement(Ft.a,Object.assign({component:Gt.b},e,{label:"Select Groups",variant:"outlined",name:"Group"}))},name:"Group"}))):r.a.createElement(r.a.Fragment,null),r.a.createElement(rt.a,{item:!0},r.a.createElement(Bt.a,{variant:"outlined",className:d.fieldContainer},r.a.createElement(Qt.a,{options:b,getOptionLabel:function(e){return e.value},getOptionSelected:function(e,t){return t.id===e.id},key:E,onChange:function(e,a){t("AgentType",a)},renderInput:function(e){return r.a.createElement(Ft.a,Object.assign({component:Gt.b},e,{label:"Select Agent Type",variant:"outlined",name:"AgentType"}))},name:"AgentType"})))),r.a.createElement("br",null),r.a.createElement(W.a,{color:"primary",variant:"contained",disabled:"connected"===localStorage.getItem("callStatus"),onClick:h},"Submit"))}))}var Sn=Object(C.a)((function(e){return{dialog:{minWidth:400}}}));function On(e){var t=e.InputLabelProps,c=void 0===t?{}:t,o=Object(s.a)(e,["InputLabelProps"]),l=Sn(),i=Object(n.useState)([]),u=Object(k.a)(i,2),m=u[0],d=u[1],p=Object(n.useState)(!0),g=Object(k.a)(p,2),b=g[0],f=g[1],h=o.EditData[0],v=Object(n.useState)(h),y=Object(k.a)(v,2),E=y[0],S=y[1],O="".concat(re,"/"),j=function(e){console.log("target",e.target),S(Object(Ne.a)(Object(Ne.a)({},E),{},Object(R.a)({},e.target.name,e.target.value)))};function I(){return(I=Object(N.a)(T.a.mark((function e(t){var a,n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=O+"crm/currentstatuses",e.next=3,fetch(a,{method:"post",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 3:return n=e.sent,console.log("result",n),e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){P.a.post("http://106.51.86.75:4000/admin/group/getGroup",{},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwtToken"))}}).then((function(e){console.log(e),200===e.data.status?d(e.data.data):alert(e.data.message)}))}),[]),r.a.createElement("div",null,b&&r.a.createElement(Nt.a,{open:!0,onClose:function(){return f(!1)},classes:{paper:l.dialog}},r.a.createElement(kt.a,null,"Edit Agent Details"),r.a.createElement(se.a,{light:!0}),r.a.createElement(qt.a,null,r.a.createElement(Q.a,{variant:"h6"},r.a.createElement(Kt.a,{fullWidth:!0,label:"Agent Name",name:"EmployeeName",onChange:j,required:!0,SelectProps:{native:!0},value:E.EmployeeName,variant:"outlined"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Kt.a,{fullWidth:!0,label:"Agent Email",name:"EmailID",onChange:j,required:!0,SelectProps:{native:!0},value:E.EmailID,variant:"outlined"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Kt.a,{fullWidth:!0,label:"Agent Contact Number",name:"External_num",onChange:j,required:!0,SelectProps:{native:!0},value:E.External_num,variant:"outlined"}),r.a.createElement("br",null),r.a.createElement("br",null),"Admin"===localStorage.getItem("role")?r.a.createElement(Kt.a,Object.assign({fullWidth:!0,label:"Select Group",name:"GroupName",onChange:j,required:!0,select:!0,SelectProps:{native:!0},value:E.GroupName,variant:"outlined",InputLabelProps:Object(Ne.a)(Object(Ne.a)({},c),{},{shrink:!0})},o),m.map((function(e){return r.a.createElement("option",{key:e.group_id,value:e.group_name},e.group_name)}))):r.a.createElement(r.a.Fragment,null),r.a.createElement(Kt.a,{fullWidth:!0,label:"Select Agent Type",name:"AgentType",onChange:j,required:!0,select:!0,SelectProps:{native:!0},value:E.AgentType,variant:"outlined"},r.a.createElement("option",{key:"L1",value:"L1"},"L1"),r.a.createElement("option",{key:"L2",value:"L2"},"L2")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Kt.a,{fullWidth:!0,label:"Select Agent Type",name:"Enabled",onChange:j,required:!0,select:!0,SelectProps:{native:!0},value:E.Enabled,variant:"outlined"},r.a.createElement("option",{key:"1",value:"True"},"Enable"),r.a.createElement("option",{key:"0",value:"False"},"Disable")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(x.a,{style:{flexBasis:"100%"}},r.a.createElement("br",null)))),r.a.createElement(Pt.a,null,r.a.createElement(W.a,{color:"primary",variant:"contained",onClick:function(e){f(!1)}},"close"),r.a.createElement(W.a,{color:"primary",variant:"contained",onClick:function(e){console.log("formData",E);P.a.post("http://106.51.86.75:4000/admin/agent/updateAgent",{formData:E},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwtToken"))}}).then((function(e){(console.log(e),200===e.data.status)&&(alert("Updated Agent Successfully"),function(e){I.apply(this,arguments)}({agentCallDispositionStatus:"NA",agentCallType:"Inbound",agentCallUniqueId:"NA",agentCallEvent:"NewState",agentCallStatus:"ringing",agentID:E.Agentcontact,agentSipID:E.Agentcontact,breakStatus:"NA",newstateinbound:"",newstateoutbound:"NA",bridgeUniqueid1:"NA",bridgeUniqueid2:"NA",channel:"NA",contactNumber:E.Agentcontact,agenttype:E.AgentType}),f(!1),o.TableData(),function(e){console.log("contactNumber",e);var t={agentCallDispositionStatus:"NotDisposed",agentCallType:"Inbound",agentCallUniqueId:"1610712538.46886",agentCallEvent:"Bridge",agentCallStatus:"disconnected",agentID:"9998",agentSipID:"9998",contactNumber:e,breakStatus:"OUT"};a(8)({method:"post",url:"".concat(re,"/crm/currentstatuses"),headers:{"Content-Type":"application/json"},data:t}).then((function(e){console.log("update",JSON.stringify(e.data))})).catch((function(e){console.log(e)}))}(E.External_num))}))}},"Update"))))}var jn=[{field:"EmployeeName",headerName:"Agent name",width:130},{field:"External_num",headerName:"Contact Number",width:200},{field:"EmailID",headerName:"Email",width:200},{field:"AgentType",headerName:"Agent Type",width:160},{field:"GroupName",headerName:"Groups",width:160}];function In(){var e=Object(n.useState)([]),t=Object(k.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),l=Object(k.a)(o,2),i=(l[0],l[1]),u=Object(n.useState)([]),s=Object(k.a)(u,2),m=s[0],d=s[1];function p(){P.a.post("http://106.51.86.75:4000/admin/agent/viewAgent",{},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwtToken"))}}).then((function(e){c(e.data.data)})).catch((function(e){console.log(e)}))}return Object(n.useEffect)((function(){p()}),[]),r.a.createElement("div",{style:{height:400,width:"100%"}},a.length>0?r.a.createElement(V.a,{rows:a.map((function(e){return Object(Ne.a)(Object(Ne.a)({},e),{},{id:e.UserID})})),columns:jn,pageSize:5,checkboxSelection:!0,onSelectionChange:function(e){P.a.post("http://106.51.86.75:4000/admin/agent/getAgent",e).then((function(e){200===e.data.status&&(i(!0),d(e.data.data))}))}}):r.a.createElement(r.a.Fragment,null),m.length>0?r.a.createElement(On,{EditData:m,TableData:p}):r.a.createElement(r.a.Fragment,null))}var xn=Object(i.a)((function(e){return{root:{flexGrow:1,display:"flex"},grey:{color:e.palette.getContrastText(Ja.a[50]),backgroundColor:Ja.a[50]},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},paper:{textAlign:"center"},list:{},toolbar:e.mixins.toolbar,content:{flexGrow:1,backgroundColor:e.palette.background.default,marginRight:"0.5vw"},listItem:{padding:0},cardcontent:{padding:"0 0 0 5%","&:last-child":{paddingBottom:0}}}})),Cn=[{path:"/dashboard",key:"dashboardagent",component:function(){var e=xn(),t=Object(n.useState)([]),a=Object(k.a)(t,2),c=(a[0],a[1]);return Object(n.useEffect)((function(){}),[]),r.a.createElement(nt.a,{maxWidth:!1},r.a.createElement("div",{className:e.root},r.a.createElement(rt.a,{container:!0,spacing:3},r.a.createElement(rt.a,{item:!0,xs:12,sm:4},r.a.createElement("div",null,r.a.createElement(ct.a,null,r.a.createElement(ot.a,{title:"Create Agent"}),r.a.createElement(lt.a,null,r.a.createElement(En,{TableData:function(){P.a.post("http://106.51.86.75:4000/admin/agent/viewAgent",{},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwtToken"))}}).then((function(e){c(e.data.data)})).catch((function(e){console.log(e)}))}}))))),r.a.createElement(rt.a,{item:!0,xs:12,sm:8},r.a.createElement("div",null,r.a.createElement(ct.a,null,r.a.createElement(ot.a,{title:"Agent Details"}),r.a.createElement(lt.a,null,r.a.createElement(In,null))))))))}}],An=Object(i.a)((function(){return{fieldContainer:{width:"100%"}}}));function Dn(e){var t=Object(n.useState)({GroupAdminName:"",GroupAdminEmail:"",groupcontact:"",Group:{value:"",label:""}}),a=Object(k.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)([]),i=Object(k.a)(l,2),u=i[0],s=i[1],m=An(),d=Object(n.useRef)({});"".concat(re,"/");function p(e){console.log("formRef",d.current.values);var t={GName:d.current.values.GroupAdminName,GEmail:d.current.values.GroupAdminEmail,Gcontact:d.current.values.groupcontact,groupslabel:d.current.values.Group};console.log("data",t),P.a.post("http://106.51.86.75:4000/admin/groupdadmin/add",t).then((function(e){console.log(e),200===e.data.status?alert("Created Successfully"):(alert(e.data.message),console.log("formRef.current",d.current))})),o({GroupAdminName:"",GroupAdminEmail:"",groupcontact:"",Group:{value:"",label:""}}),d.current.values.GroupAdminName="",d.current.values.GroupAdminEmail="",d.current.values.groupcontact="",d.current.values.Group={value:"",label:""},console.log("initialValue",c),e.preventDefault()}Object(n.useEffect)((function(){console.log("formRef",d.current.values),console.log("initialValue",c);P.a.post("http://106.51.86.75:4000/admin/group/getGroup",{},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwtToken"))}}).then((function(e){console.log(e),200===e.data.status?s(e.data.data):alert(e.data.message)}))}),[]);var g=Object(n.useState)(0),b=Object(k.a)(g,2),f=b[0];b[1];return r.a.createElement(Ft.c,{validateOnBlur:!1,initialValues:c,disform:c,onSubmit:function(e,t,a){var n=t.validate,r=a.resetForm;console.log("e",e),p(e),n(e),r({e:""})},innerRef:d,validationSchema:zt.a({Group:zt.a().required("Please select a Group").typeError("Please select a Group"),GroupAdminName:zt.b().required("Please Enter Group Admin Name"),GroupAdminEmail:zt.b().required("Please Enter Group Admin Email"),groupcontact:zt.b().required("Please Enter  Group Admin Contact Number")})},(function(e){var t=e.setFieldValue;return r.a.createElement(Ft.b,null,r.a.createElement(rt.a,{container:!0,spacing:2,direction:"column"},r.a.createElement(rt.a,{item:!0},r.a.createElement(Bt.a,{variant:"outlined",className:m.fieldContainer},r.a.createElement(Qt.a,{options:u,getOptionLabel:function(e){return e.group_name},getOptionSelected:function(e,t){return t.id===e.id},key:f,onChange:function(e,a){t("Group",a)},renderInput:function(e){return r.a.createElement(Ft.a,Object.assign({component:Gt.b},e,{label:"Select Groups",variant:"outlined",name:"Group"}))},name:"Group"}))),r.a.createElement(rt.a,{item:!0},r.a.createElement(Ft.a,{className:m.fieldContainer,name:"GroupAdminName",component:Gt.b,variant:"outlined",multiline:!0,label:"Group Admin Name"})),r.a.createElement(rt.a,{item:!0},r.a.createElement(Ft.a,{className:m.fieldContainer,name:"GroupAdminEmail",component:Gt.b,variant:"outlined",multiline:!0,label:"Group Admin Email"})),r.a.createElement(rt.a,{item:!0},r.a.createElement(Ft.a,{className:m.fieldContainer,name:"groupcontact",component:Gt.b,variant:"outlined",multiline:!0,label:"Group Admin Contact Number"}))),r.a.createElement("br",null),r.a.createElement(W.a,{color:"primary",variant:"contained",disabled:"connected"===localStorage.getItem("callStatus"),onClick:p},"Submit"))}))}Object(C.a)((function(e){return{dialog:{minWidth:400}}}));var wn=[{field:"EmployeeName",headerName:"Group Admin name",width:200},{field:"External_num",headerName:"Contact Number",width:200},{field:"EmailID",headerName:"Email",width:200},{field:"GroupName",headerName:"Groups",width:160}];function Tn(){var e=Object(n.useState)([]),t=Object(k.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),l=Object(k.a)(o,2),i=(l[0],l[1]),u=Object(n.useState)([]),s=Object(k.a)(u,2),m=(s[0],s[1]);return Object(n.useEffect)((function(){P.a.post("http://106.51.86.75:4000/admin/groupdadmin/view").then((function(e){c(e.data.data)})).catch((function(e){console.log(e)}))}),[]),r.a.createElement("div",{style:{height:400,width:"100%"}},a.length>0?r.a.createElement(V.a,{rows:a.map((function(e){return Object(Ne.a)(Object(Ne.a)({},e),{},{id:e.UserID})})),columns:wn,pageSize:5,checkboxSelection:!0,onSelectionChange:function(e){P.a.post("http://106.51.86.75:4000/admin/agent/getAgent",e).then((function(e){200===e.data.status&&(i(!0),m(e.data.data))}))}}):r.a.createElement(r.a.Fragment,null))}var Nn=Object(i.a)((function(e){return{root:{flexGrow:1,display:"flex"},grey:{color:e.palette.getContrastText(Ja.a[50]),backgroundColor:Ja.a[50]},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},paper:{textAlign:"center"},list:{},toolbar:e.mixins.toolbar,content:{flexGrow:1,backgroundColor:e.palette.background.default,marginRight:"0.5vw"},listItem:{padding:0},cardcontent:{padding:"0 0 0 5%","&:last-child":{paddingBottom:0}}}})),kn=[{path:"/dashboard",key:"dashboardgroup",component:function(){var e=Nn();return Object(n.useEffect)((function(){}),[]),r.a.createElement(nt.a,{maxWidth:!1},r.a.createElement("div",{className:e.root},r.a.createElement(rt.a,{container:!0,spacing:3},r.a.createElement(rt.a,{item:!0,xs:12,sm:4},r.a.createElement("div",null,r.a.createElement(ct.a,null,r.a.createElement(ot.a,{title:"Create Group Admin"}),r.a.createElement(lt.a,null,r.a.createElement(Dn,null))))),r.a.createElement(rt.a,{item:!0,xs:12,sm:8},r.a.createElement("div",null,r.a.createElement(ct.a,null,r.a.createElement(ot.a,{title:"Group Admin Details"}),r.a.createElement(lt.a,null,r.a.createElement(Tn,null))))))))}}],qn=[{path:"/dash360",routes:Ia,key:"dash360",component:r.a.lazy((function(){return a.e(5).then(a.bind(null,832))})),crumb:"Student Interaction",requiresAuth:!0},{path:"/telephony",routes:nn,key:"telephony",component:r.a.lazy((function(){return a.e(7).then(a.bind(null,833))})),crumb:"Telephony",requiresAuth:!0},{path:"/faq",routes:cn,key:"faq",component:r.a.lazy((function(){return a.e(3).then(a.bind(null,834))})),crumb:"faq",requiresAuth:!0},{path:"/agent",routes:Cn,key:"dashboardagent",component:r.a.lazy((function(){return a.e(4).then(a.bind(null,835))})),crumb:"Agents",requiresAuth:!0},{path:"/group",routes:kn,key:"dashboardgroup",component:r.a.lazy((function(){return a.e(6).then(a.bind(null,836))})),crumb:"Groups",requiresAuth:!0},{path:"/auth",routes:vn,key:"auth",component:r.a.lazy((function(){return a.e(8).then(a.bind(null,831))})),requiresAuth:!1}];var Pn=Object(p.connect)((function(e){return{isLoggedIn:e.logInState}}),(function(e){return{setUserDetailsMain:function(t){return e(Object(g.h)(t))},setAccountTypeMain:function(t){return e(Object(g.a)(t))},setLoggedInMain:function(t){return e(Object(g.d)(t))}}}))((function(e){var t=e.isLoggedIn,c=e.classes,o=e.setUserDetailsMain,l=e.setAccountTypeMain,i=e.setLoggedInMain,u=Object(n.useState)(!0),s=Object(k.a)(u,2),m=s[0],d=s[1],f=Object(n.useState)(qn.filter((function(e){return!1===e.requiresAuth}))),h=Object(k.a)(f,2),v=h[0],y=h[1],E=Object(n.useState)(!1),S=Object(k.a)(E,2),O=S[0],j=S[1],I=Object(n.useState)(!1),x=Object(k.a)(I,2),C=(x[0],x[1]),A=Object(p.useDispatch)();function w(e,t,n){var r=a(8);r({method:"get",url:"".concat(X,"/ami/actions/rmq?Queue=").concat(t,"&Interface=").concat(e),headers:{"Content-Type":"application/json"}}).then((function(e){})).catch((function(e){})),r({method:"get",url:"".concat(ee,"/ami/actions/rmq?Queue=").concat(t,"&Interface=").concat(e),headers:{"Content-Type":"application/json"}}).then((function(e){})).catch((function(e){})),r({method:"get",url:"".concat(te,"/ami/actions/rmq?Queue=").concat(t,"&Interface=").concat(e),headers:{"Content-Type":"application/json"}}).then((function(e){})).catch((function(e){})),r({method:"get",url:"".concat(ae,"/ami/actions/rmq?Queue=").concat(t,"&Interface=").concat(e),headers:{"Content-Type":"application/json"}}).then((function(e){})).catch((function(e){})),r({method:"get",url:"".concat(ne,"/ami/actions/rmq?Queue=7003&Interface=").concat(e),headers:{"Content-Type":"application/json"}}).then((function(e){})).catch((function(e){}))}return Object(p.useSelector)((function(e){return e.userData})),Object(b.g)(),Object(n.useEffect)((function(){!function(){var e=Object(N.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!localStorage.getItem("jwtToken")){e.next=8;break}return i(!0),e.next=5,P.a.post("http://106.51.86.75:4000/auth/apiM/verifyClient",{},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwtToken"))}}).then(function(){var e=Object(N.a)(T.a.mark((function e(t){var n,r,c;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.data.userDetails,200==t.data.status){e.next=5;break}try{w("Local/5".concat(localStorage.getItem("AgentSIPID"),"@from-queue"),7001),u=localStorage.getItem("callStatusId"),s={loginStatus:"false"},a(8)({method:"put",url:$+u,headers:{"Content-Type":"application/json"},data:s}).then((function(e){})).catch((function(e){})),localStorage.jwtToken,"http://106.51.86.75:4000/auth/apiM/logout",P.a.delete("http://106.51.86.75:4000/auth/apiM/logout",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwtToken"))}}),localStorage.clear(),A(Object(g.d)(!1)),window.location.reload()}catch(m){}e.next=10;break;case 5:return r="http://106.51.86.75:42004/crm/currentstatuses/agentSipID?agentSipID=".concat(localStorage.getItem("AgentSIPID")),e.next=8,P.a.get(r);case 8:e.sent.data[0].jwtToken===localStorage.getItem("jwtToken")?(c={UserID:n.UserID,AllowPublic:n.AllowPublic,UserName:n.UserName,EmployeeName:n.EmployeeName,EmailID:n.EmailID,OTP:n.OTP,tenetID:n.tenetID,tenentId:n.tenentId,tenentName:n.tenentName,roleids:n.roleids,role:n.role,modules:n.modules,External_num:n.External_num,Server:n.Server,AgentQueueStatus:n.AgentQueueStatus},o(c),localStorage.setItem("AgentSIPID",c.External_num),l("Agent"===c.role||"Admin"===c.role||"Group admin"===c.role?Y.a:Y.j),"Agent"===c.role&&C(!0)):(localStorage.clear(),i(!1));case 10:case"end":return e.stop()}var u,s}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e)}));case 5:e.sent,e.next=9;break;case 8:i(!1);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),i(!1);case 14:return e.prev=14,d(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,11,14,17]])})));return function(){return e.apply(this,arguments)}}()()}),[]),Object(n.useEffect)((function(){y(qn.filter((function(e){return e.requiresAuth===t}))),j(t)}),[t]),m?r.a.createElement(D,null):O?r.a.createElement(r.a.Fragment,null,r.a.createElement(ie,null),r.a.createElement(Te,{openMobile:!1,onMobileClose:function(){return null}}),r.a.createElement("div",{className:c.wrapper},r.a.createElement("div",{className:c.contentContainer},r.a.createElement("div",{className:c.content},r.a.createElement(L.a,{routes:v,isRoot:!0,redirectPath:"/dash360"}))))):r.a.createElement(L.a,{routes:v,isRoot:!0,redirectPath:"/auth/login"})})),Ln=Object(i.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,display:"flex",height:"100%",overflow:"hidden",width:"100%"},wrapper:{display:"flex",flex:"1 1 auto",overflow:"hidden",paddingTop:64},contentContainer:{display:"flex",flex:"1 1 auto",overflow:"hidden"},content:{flex:"1 1 auto",height:"100%",overflow:"auto"}}})),Rn=function(){var e=Ln();return r.a.createElement(p.Provider,{store:j},r.a.createElement(l.a,null,r.a.createElement(u.a,{theme:E},r.a.createElement(r.a.Suspense,{fallback:r.a.createElement(D,null)},r.a.createElement("div",{className:e.root},r.a.createElement(h,null),r.a.createElement(Pn,{classes:e}))))))};o.a.render(r.a.createElement(l.a,null,r.a.createElement(Rn,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},83:function(e,t,a){"use strict";var n=a(5),r=a(462),c=a(508),o=a(510),l=a(0),i=a.n(l),u=a(21),s=a(27),m=a(463),d=a.n(m);t.a=Object(u.connect)((function(e){return{activatedRoute:e.activatedRoute,crumbs:e.crumbs,urlMatchFound:e.urlMatchFound}}))((function(e){var t=e.activatedRoute,a=e.crumbs,u=e.urlMatchFound,m=Object(l.useState)([]),p=Object(n.a)(m,2),g=p[0],b=p[1];Object(l.useEffect)((function(){u&&b(a.get(t))}),[u,t]);var f="/";return i.a.createElement(r.a,{container:!0},(null===g||void 0===g?void 0:g.length)?i.a.createElement(c.a,{style:{margin:"1.5rem 2rem 0 1.5rem"}},i.a.createElement(o.a,null,i.a.createElement(s.b,{to:"/"},i.a.createElement(d.a,null)),t.split("/").slice(1).map((function(e,t){return f+=e+"/",g[t]?i.a.createElement(s.b,{to:t===g.length-1?"/"+window.location.href.split("/").splice(3).join("/"):f,key:f},g[t]):""})))):"")}))},99:function(e,t,a){"use strict";a.d(t,"e",(function(){return o})),a.d(t,"h",(function(){return l})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return s})),a.d(t,"d",(function(){return m})),a.d(t,"g",(function(){return d})),a.d(t,"f",(function(){return p}));var n=a(125),r=a(34),c={AgentType:"",role:"",callUniqueId:"",distributer_id:"",callStatusId:"",callDispositionStatus:"",callType:"",callEvent:"",callerNumber:"",callStatus:"",AgentSIPID:""},o=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.f:return t.payload;default:return e}},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.c:return t.payload;default:return e}},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.e:return t.payload;default:return e}},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.c:return t.payload;default:return e}},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.d:return t.payload;default:return e}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.g:return e.set(t.key,t.value),e;default:return e}},d=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.i:return t.payload;default:return e}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.h:return t.payload;default:return e}}}},[[524,1,2]]]);
//# sourceMappingURL=main.d814d0d3.chunk.js.map